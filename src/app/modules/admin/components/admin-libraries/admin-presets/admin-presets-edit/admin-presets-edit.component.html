<app-shared-loader *ngIf="!preset"></app-shared-loader>
<div>{{preset.name}}</div>
<div class="body">
  <div *ngFor="let section of preset.sections; let i=index">
    <app-admin-project-questionnaire-section
      [section]="section"
      [state]="getState(i)"
      (stateOut)="updateState($event, i)"
      (sectionUpdated)="sectionUpdated($event, i)"
      (sectionRemoved)="sectionRemoved($event, i)"
      (questionAdded)="addQuestion($event,i)"
      (questionMoved)="canimove($event,i)"
      (move)="moveSection($event,i)">
    </app-admin-project-questionnaire-section>
  </div>

  <div class="add-section" (click)="addSection()">
    <button class="btn-round btn-primary"><i class="icon icon-plus"></i></button>
    <div>Add section</div>
  </div>
</div>



