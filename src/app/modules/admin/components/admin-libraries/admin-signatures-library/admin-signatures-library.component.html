<div class="section-container">

  <app-sidebar [template]="more" (closeSidebar)="closeSidebar($event)">
    <app-sidebar-signature
      [signature]="signatureToEdit"
      (signatureChange)="updateSignature($event)">
    </app-sidebar-signature>
  </app-sidebar>

  <div class="empty" *ngIf="!signatures.length">
    <div class="empty-action">
      <button (click)="newSignatureName = 'signature'" class="btn btn-primary">
        Créer une signature
      </button>
    </div>
  </div>

  <div class="text-right">
    <button *ngIf="signatures.length" (click)="newSignatureName = 'signature'" class="btn btn-primary">
      Créer une signature
    </button>
  </div>

  <app-shared-table
    [config]="config"
    (configChange)="getSignatures($event)"
    [data]="tableInfos"
    (editRow)="editSignature($event)"
    (removeRows)="removeSignatures($event)">
  </app-shared-table>


  <!-- MODAL : Création d'une nouvelle signature -->
  <div class="modal" [ngClass]="{'active': newSignatureName != null}">
    <div class="modal-overlay" (click)="(newSignatureName = null) && $event.preventDefault()"></div>
    <div class="modal-container">
      <div class="modal-header">
        <div class="modal-title h5">Créer une signature</div>
      </div>
      <div class="modal-body">
        <div class="content">
          Donnez un nom à la signature
          <input class="form-input" type="text" [(ngModel)]="newSignatureName"/>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-primary" (click)="createSignature()">Créer</button>
        <button class="btn btn-link" (click)="(newSignatureName = null) && $event.preventDefault()">
          {{ 'COMMON.CANCEL' | translate }}
        </button>
      </div>
    </div>
  </div>

</div>
