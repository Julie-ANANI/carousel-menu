<div class="container">
  <div class="columns">
    <div class="column col-10 col-mx-auto">

      <h1>{{total}} {{ 'PRESETS.QUESTIONS' | translate }}</h1>


      <div class="empty" *ngIf="questions && !questions.length">
        <p class="empty-title h5">{{ 'PRESETS.QUESTION.NONE.TITLE' | translate }}</p>
        <p class="empty-subtitle">{{ 'PRESETS.QUESTION.NONE.CONTENT' | translate }}</p>
        <div class="empty-action">
          <button [routerLink]="'/admin/question/new'" class="btn btn-lg btn-primary">{{ 'PRESETS.QUESTION.ADD' | translate }} <i class="icon icon-arrow-right"></i></button>
        </div>
      </div>

      <div class="columns" *ngIf="questions && questions.length">
        <button [routerLink]="'/admin/questions/new'" class="btn btn-lg btn-primary">{{ 'PRESETS.QUESTION.ADD' | translate }} <i class="icon icon-arrow-right"></i></button>
        <table class="table questions" wt-responsive-table>
          <thead>
            <tr>
              <th><sq-sort [config]="config" (configChange)="loadQuestions($event)" [prop]="'name'">{{ 'COMMON.NAME' | translate }}</sq-sort></th>
              <th><sq-sort [config]="config" (configChange)="loadQuestions($event)" [prop]="'domain'">{{ 'COMMON.DOMAIN' | translate }}</sq-sort></th>
              <th><sq-sort [config]="config" (configChange)="loadQuestions($event)" [prop]="'updated'">{{ 'COMMON.UPDATED' | translate }}</sq-sort></th>
              <th><sq-sort [config]="config" (configChange)="loadQuestions($event)" [prop]="'created'">{{ 'COMMON.CREATED' | translate }}</sq-sort></th>
            </tr>
          </thead>
          <tbody>

          <tr *ngFor="let question of questions">
            <td><a [routerLink]="['/admin/questions/' + question._id + '/edit']">{{question.name}}</a></td>
            <td>{{question.domain}}</td>
            <td>{{question.created | date : dateFormat}}</td>
            <td>{{question.updated | date : dateFormat}}</td>
          </tr>
          </tbody>
          <tfoot>
          <tr>
            <td colspan="12">
              <sqPagination [config]="config" (configChange)="loadQuestions($event)" [total]="total"></sqPagination>
            </td>
          </tr>
          </tfoot>
        </table>
      </div>
    </div>
  </div>





  <!-- MODAL : Are you sure you want to delete this question ? -->
  <div class="modal" [ngClass]="{'active': selectedQuestionIdToBeDeleted}">
    <div class="modal-overlay" (click)="selectedQuestionIdToBeDeleted = null"></div>
    <div class="modal-container">
      <div class="modal-header">
        <button class="btn btn-clear float-right" (click)="selectedQuestionIdToBeDeleted = null"></button>
        <div class="modal-title h5">{{ 'PRESETS.QUESTION.DELETE_MODAL.TITLE' | translate }}</div>
      </div>
      <div class="modal-body">
        <div class="content">{{ 'PRESETS.QUESTION.DELETE_MODAL.CONTENT' | translate }}</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-link" (click)="removeQuestion(selectedQuestionIdToBeDeleted)">{{ 'COMMON.DELETE' | translate }}</button>
        <button class="btn btn-primary" (click)="selectedQuestionIdToBeDeleted = null">{{ 'COMMON.CANCEL' | translate }}</button>
      </div>
    </div>
  </div>
