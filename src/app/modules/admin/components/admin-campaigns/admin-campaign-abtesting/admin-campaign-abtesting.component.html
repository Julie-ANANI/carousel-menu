

<div *ngIf="!(this.batchesLength)  || (campaign.settings.ABsettings.status != 0) ">
  <div *ngIf="this.campaign.settings.ABsettings.status == 0">
    <label class="form-switch" style="">
      <input type="checkbox" [disabled]="!(modifiedScenarios.length)" (click)="statusSwitch()" >
      <i class="form-icon"></i>
    </label>
    <form class="form-horizontal" [formGroup]="form" >


      <div class="form-group">
        <select class = "form-select"
                [(ngModel)] = "nameWorkflowA"
                id = "workflowA"
                name = "quelquechoseA"
                formControlName="workflowA"
        >
          <option *ngFor = "let scenario of modifiedScenarios"
                  [ngValue] = "scenario.name">
            {{scenario.name}}
          </option>
        </select>
      </div>
      <div class="form-group">
        <select class = "form-select"
                [(ngModel)] = "nameWorkflowB"
                id = "workflowB"
                name = "quelquechoseB"
                formControlName="workflowB"
        >
          <option *ngFor = "let scenario of modifiedScenarios"
                  [ngValue] = "scenario.name">
            {{scenario.name}}
          </option>
        </select>
      </div>
      Nombre de pros max : {{campaign.stats.nbPros90}}
      <div class="form-group">
        <input type="number" id="sizeA" [(ngModel)]="sizeA" formControlName="sizeA" />
      </div>
      <div class="form-group">
        <input type="number" id="sizeB"  [(ngModel)] = "sizeB" formControlName="sizeB" />
      </div>
      <!-- On click => envoi de donnÃ©es -->
      <button type="submit" class="btn btn-primary" [disabled]="!form.valid" (click)="startABtesting()">
        Submit
      </button>


    </form>
  </div>


  <!-- Affichage des stats + valider + nom des workflows -->

  <div *ngIf="this.campaign.settings.ABsettings.status == 1">
    <app-shared-table [data]="this.tableA" [config]="config"></app-shared-table>
    <app-shared-table [data]="this.tableB" [config]="config"></app-shared-table>
    <button class="btn btn-primary" (click)="updateStatsBatches()">
      <i class="fas fa-sync"></i>
    </button>
    <button class="btn btn-primary" (click)="validateABtesting()">
      Valider
    </button>
  </div>

  <div *ngIf="this.campaign.settings.ABsettings.status == 2">
    <br>
    <app-shared-table [data]="this.tableA" [config]="config"></app-shared-table>
    <app-shared-table [data]="this.tableB" [config]="config"></app-shared-table>
    <br>
    <button class="btn btn-primary" (click)="updateStatsBatches()">
      <i class="fas fa-sync"></i>
    </button>
  </div>
</div>

