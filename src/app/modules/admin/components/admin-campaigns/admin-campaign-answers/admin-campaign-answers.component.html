<!--
<shared-answer-modal [(modalAnswer)]="modalAnswer" [innoid]="campaign.innovation._id" [adminMode]="true" [questions]="questions"></shared-answer-modal>
-->

<h2>{{ total }} {{ 'CAMPAIGNS.ANSWERS' | translate }}</h2>

<div *ngIf="autorizedActions(2)">
  <button class="btn btn-default" (click)="exportAnswers($event)">
    {{ 'CAMPAIGNS.EXPORT-ANSWERS' | translate }}
  </button>

  <label>
    <input #fileupload type="file" [hidden]="true" (change)="importAnswers(fileupload.files[0], $event)" />
    <span class="btn btn-default">{{ 'CAMPAIGNS.IMPORT-ANSWERS' | translate }}</span>
  </label>

</div>

<div class="bg-success answers-header">
  <h5>{{validatedAnswers.length}} {{ 'CAMPAIGNS.VALIDATED' | translate }}</h5>
</div>
<app-answers-list [answers]="validatedAnswers" (modalAnswerChange)="seeAnswer($event)"></app-answers-list>

<div *ngIf="autorizedActions(0)">
  <div class="bg-warning answers-header">
    <h5>{{submittedAnswers.length}} {{ 'CAMPAIGNS.SUBMITTED' | translate }}</h5>
  </div>
  <app-answers-list [answers]="submittedAnswers" (modalAnswerChange)="seeAnswer($event)"></app-answers-list>


  <!-- TODO: on cache la section "à compléter", si personne ne s'est plaint d'ici le mois d'août, on supprime définitivement
  <div class="bg-primary answers-header">
    <h5>{{toCompleteAnswers.length}} {{ 'CAMPAIGNS.TO_COMPLETE' | translate }}</h5>
  </div>
  <app-admin-answers-list [answers]="toCompleteAnswers" (modalAnswerChange)="seeAnswer($event)"></app-admin-answers-list>
  -->

  <div class="bg-dark answers-header">
    <h5>{{draftAnswers.length}} {{ 'CAMPAIGNS.DRAFTS' | translate }}</h5>
  </div>
  <app-answers-list [answers]="draftAnswers" (modalAnswerChange)="seeAnswer($event)"></app-answers-list>

  <div class="bg-error answers-header">
    <h5>{{rejectedAnswers.length}} {{ 'CAMPAIGNS.REJECTED' | translate }}</h5>
  </div>
  <app-answers-list [answers]="rejectedAnswers" (modalAnswerChange)="seeAnswer($event)"></app-answers-list>
</div>

<!-- Insight preview -->
<app-sidebar
  [template]="sidebarTemplateValue"
  (closeSidebar)="closeSidebar($event)">
  <app-user-answer
    [adminMode]="true"
    [(userAnswer)]="modalAnswer"
    [innovationId]="campaign.innovation._id"
    [questions]="questions">
  </app-user-answer>
</app-sidebar>
