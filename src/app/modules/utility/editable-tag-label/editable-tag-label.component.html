<div id="editable-tag-label" class="is-draft" tabindex="1" (blur)="focusOut()">

  <div class="tag-container label is-tag is-draft is-rounded">
    <i class="fas fa-tag icon-left"></i>
    <label class="d-block w-full" *ngIf="isEditable">
      <input
        (focusout)="focusOut()"
        (keyup)="addNewTags($event)"
        [disabled]="!isEditable"
        [list-formatter]="autocompleteListFormatter"
        [source]="tagSuggestions.bind(this)"
        [value-formatter]="autocompleteValueFormatter"
        [value]="defaultTag.label[currentLang]"
        (valueChanged)="valueOnChange($event)"
        [placeholder]="!defaultTag.label.en? 'add a tag...': ''"
        (input)="valueOnChange($event.target['value'])"
        [min-chars]="2"
        type="text"
        id="editable-tag-label-input"
        class="form-input is-xs text-white"
        auto-complete>
    </label>

    <div *ngIf="!isEditable" (click)="onEdit($event)">
      {{defaultTag.label | multiling:currentLang}}
    </div>
    <i class="fas fa-times icon-right"
       (click)="deleteTag($event)"
       *ngIf="!isEditable && defaultTag._id"></i>

    <i class="fas fa-plus-circle icon-right"
       (click)="onSubmit($event)"
       *ngIf="isEditable"></i>
  </div>

</div>


<!-- modal to create new tag -->
<app-utility-modal [(showModal)]="showModal" [title]="'Creation Board'">

  <section class="modal-body">
    Do you really want to create a new tag?
    <p class="form-label m-top-15">Tag Name</p>
    <p class="text-sm m-no-bottom" *ngIf="defaultTag && defaultTag.label">{{ defaultTag.label[currentLang] }}</p>
  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel" type="button">Cancel</button>
    <button (click)="createNewTag()" class="button is-primary" type="button">Confirm</button>
  </footer>

</app-utility-modal>
<!-- /modal to create new tag -->
