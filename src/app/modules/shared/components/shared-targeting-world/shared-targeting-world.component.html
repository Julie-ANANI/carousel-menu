<div id="shared-targeting-world">

  <!-- continents -->
  <div *ngIf="continents.length > 0">

    <h6 class="text-normal m-bottom-15">{{ 'SHARED_TARGETING_WORLD.SELECT_CONTINENTS' | translate }}</h6>

    <div class="d-flex flex-wrap">

      <div class="m-right-20">
        <label class="form-checkbox text-sm">
          <input
            (change)="onChangeSelectAll($event)"
            [checked]="checkSelectAll()"
            [disabled]="!isEditable && !isAdmin"
            id="selectAll"
            name="selectAll"
            value="selectAll"
            type="checkbox">
          <i class="form-icon"></i>{{ 'COMMON.LABEL.SELECT_ALL' | translate }}
        </label>
      </div>

      <div *ngFor="let continent of getContinents()" class="m-right-20">
        <label class="form-checkbox text-sm">
          <input
            (change)="onChangeContinent($event, continent)"
            [checked]="checkContinent(continent)"
            [disabled]="!isEditable && !isAdmin"
            [id]="continent"
            [name]="continent"
            [value]="continent"
            type="checkbox">
          <i class="form-icon"></i>{{ ('CONTINENTS.' + continent) | translate }}
        </label>
      </div>

    </div>

  </div>
  <!-- /continents -->

  <!-- include / exclude countries questions -->
  <div class="d-flex flex-wrap stw-incl-excl-country-wrapper">

    <!-- include -->
    <div class="stw-country-wrapper">

      <div class="d-flex align-center">
        <h6 class="text-normal">{{ 'SHARED_TARGETING_WORLD.SPECIFY_COUNTRIES_TO_INCLUDE' | translate }}</h6>
        <div class="icon-container is-xs text-sm" (click)="openModal($event)">
          <span class="tooltip" [attr.data-tooltip]="'COMMON.TOOLTIP.ADVANCE_SETTINGS' | translate">
            <i class="fas fa-cog"></i>
          </span>
        </div>
      </div>

      <div class="p-top-20">
        <app-auto-complete-input
          (remove)="removeIncludedCountry($event)"
          (update)="addCountryToInclude($event)"
          [config]="autoCompleteConfig('include')"
          [isAdmin]="isAdmin"
          [isEditable]="isEditable">
        </app-auto-complete-input>
      </div>

    </div>
    <!-- /include -->

    <!-- exclude -->
    <div class="stw-country-wrapper">

      <div class="d-flex align-center">
        <h6 class="text-normal">{{ 'SHARED_TARGETING_WORLD.SPECIFY_COUNTRIES_TO_EXCLUDE' | translate }}</h6>
        <div class="icon-container is-xs text-sm" (click)="openModal($event)">
          <span class="tooltip" [attr.data-tooltip]="'COMMON.TOOLTIP.ADVANCE_SETTINGS' | translate">
            <i class="fas fa-cog"></i>
          </span>
        </div>
      </div>

      <div class="p-top-20">
        <app-auto-complete-input
          (remove)="removeExcludedCountry($event)"
          (update)="addCountryToExclude($event)"
          [config]="autoCompleteConfig('exclude')"
          [isAdmin]="isAdmin"
          [isEditable]="isEditable">
        </app-auto-complete-input>
      </div>

    </div>

  </div>
  <!-- /include / exclude countries questions -->

</div>


<!-- modal for advance settings -->
<app-modal [(showModal)]="showModal" [maxWidth]="'960px'" [enableCloseButton]="true">

  <section class="modal-body is-stw">

    <div class="text-center p-bottom-30">
      <h3 class="text-background">{{ 'SHARED_TARGETING_WORLD.MODAL.HEADING' | translate }}</h3>
    </div>

    <div *ngIf="continents.length > 0">
      <div *ngFor="let continent of getContinents()" class="stw-modal-continent-wrapper">

        <!-- continents -->
        <div class="form-group is-continent">
          <label class="form-checkbox">
            <input
              (change)="onChangeContinent($event, continent)"
              [checked]="checkContinent(continent)"
              [disabled]="!isEditable && !isAdmin"
              [id]="continent"
              [name]="continent"
              [value]="continent"
              type="checkbox">
            <i class="form-icon"></i>{{ ('CONTINENTS.' + continent) | translate }}
          </label>
        </div>
        <!-- /continents -->

        <!-- countries -->
        <div class="country-list-wrapper">
          <div *ngFor="let country of getCountriesByContinent(continent)" class="card is-responsive">
            <div class="d-flex align-center" style="min-height: 40px">

              <label class="form-checkbox p-no-right">
                <input
                  (change)="onChangeCountry($event, country)"
                  [checked]="checkCountry(country)"
                  [disabled]="!isEditable && !isAdmin"
                  [id]="country.name"
                  [name]="country.name"
                  [value]="country.name"
                  type="checkbox">
                <i class="form-icon"></i>
              </label>

              <figure class="avatar m-right-2">
                <img [src]="getFlagSrc(country.code)" alt=" ">
              </figure>

              <span class="text-xs">{{ country.name }}</span>

            </div>
          </div>
        </div>
        <!-- /countries -->

      </div>
    </div>


  </section>

</app-modal>
<!-- /modal for advance settings -->
