<div *ngIf="email" id="shared-mail-editor-component">

  <!-- section header -->
  <div class="section-header" [ngClass]="{ 'column-header': noLanguage }">

    <!-- language choice -->

    <div *ngIf="!noLanguage" class="language-wrapper">
      <label class="form-label">{{ 'COMMON.SELECT_LABELS.CHOOSE_LANGUAGE' | translate }}</label>
      <div (click)="changeLanguage('en')" [ngClass]="{ active: language === 'en' }" class="text-link">
        {{ 'COMMON.LANG.EN' | translate }}
      </div>
      <div (click)="changeLanguage('fr')" [ngClass]="{ active: language === 'fr' }" class="text-link">
        {{ 'COMMON.LANG.FR' | translate }}
      </div>
    </div>

    <div *ngIf="noLanguage && !languageHasBeenSet" class="language-wrapper">
      <label class="form-label">{{ 'COMMON.MAIL_EDITOR.QUESTION' | translate }}</label>
      <div (click)="setLanguage('en')"  [ngClass]="{ active: language === 'en' }" class="text-link">
        {{ 'COMMON.LANG.EN' | translate }}
      </div>
      <div (click)="setLanguage('fr')"  [ngClass]="{ active: language === 'fr' }" class="text-link">
        {{ 'COMMON.LANG.FR' | translate }}
      </div>
    </div>

    <!-- preview -->
    <label class="form-switch">
      <input type="checkbox" (change)="onPreview()">
      <i class="form-icon"></i> Preview
    </label>

  </div>

  <!-- section content-->
  <div *ngIf="!noLanguage || languageHasBeenSet" class="section-content">

    <!-- subject -->
    <div *ngIf="editionMode" class="form-group">
      <label class="form-label" for="shared-mail-editor-subject">{{ 'COMMON.MAIL_EDITOR.SUBJECT' | translate }}</label>
      <input
        class="form-input"
        [(ngModel)]="email.subject"
        (ngModelChange)="onUpdate($event)"
        name="subject"
        type="text"
        id="shared-mail-editor-subject"
        [placeholder]="'COMMON.MAIL_EDITOR.SUBJECT_PLACEHOLDER' | translate">
    </div>

    <div *ngIf="!editionMode" class="form-group">
      <label class="form-label" for="shared-mail-editor-subject">{{ 'COMMON.MAIL_EDITOR.SUBJECT' | translate }}</label>
      <p>{{ email?.subject }}</p>
    </div>

    <!-- message -->
    <div *ngIf="editionMode" class="form-group">
      <label class="form-label">{{ 'COMMON.MAIL_EDITOR.MESSAGE' | translate }}</label>
      <app-text-zone
        [elementId]="language"
        [readonly]="!editionMode"
        [data]="email.content || ''"
        (onTextChange)="updateContent($event)">
      </app-text-zone>
      <p class="variable-tiny-mce">
        Variables : *|URL_QUIZ|*, *|TITLE|*, *|CAMPAIGN_SLUG|*, *|PITCH|*, *|FULL_NAME|*, *|FIRSTNAME|*, *|LASTNAME|*, *|URL_PICTURE|*, *|DOMAIN|*
      </p>
    </div>

    <div *ngIf="!editionMode" class="form-group">
      <label class="form-label">{{ 'COMMON.MAIL_EDITOR.MESSAGE' | translate }}</label>
      <p [innerHTML]="email?.content"></p>
    </div>

  </div>

  <!-- section signature
  <div class="section-signature">
    <label class="form-label" for="shared-mail-editor-signature">{{ 'COMMON.MAIL_EDITOR.SIGNATURE' | translate }}</label>
    <select
      class="form-select"
      [ngModel]="email.signature ? email.signature.name : null "
      id="shared-mail-editor-signature">
      <option [ngValue]="null" selected>{{ 'COMMON.SELECT' | translate }}</option>
      <option *ngFor="let signature of signatures" [ngValue]="signature.name">{{ signature.name }} - {{ signature.language }}</option>
    </select>
  </div>-->

</div>
