<h3>{{total}} Pros / {{ nbSelected }} sélectionnés</h3>
<smart-select [ngClass]="{'text-success': smartSelect}" (selectChange)="updateSelection($event)" [select]="smartSelect || {offset: config.offset, limit: config.limit}"></smart-select>
<table class="table-old pros" wt-responsive-table>
  <thead>
    <tr>
      <th></th>
      <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'country'">{{ 'COMMON.COUNTRY' | translate }}</sq-sort></th>
      <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'firstName'" >{{ 'COMMON.NAME' | translate }}</sq-sort></th>
      <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'jobTitle'">{{ 'COMMON.JOBTITLE' | translate }}</sq-sort></th>
      <th *ngIf="requestId"><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'company.name'">{{ 'COMMON.COMPANY' | translate }}</sq-sort></th>
      <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'email'">{{ 'COMMON.EMAIL' | translate }}</sq-sort></th>
      <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'emailConfidence'">{{ 'CAMPAIGNS.EMAIL_CONFIDENCE' | translate }}</sq-sort></th>
    </tr>
    <tr>
      <th></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="country"></sqFilter></th>
      <th>
        <sqFilter [config]="config" (configChange)="loadPros($event)" prop="firstName"></sqFilter>
        <sqFilter [config]="config" (configChange)="loadPros($event)" prop="lastName"></sqFilter>
      </th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="jobTitle"></sqFilter></th>
      <th *ngIf="requestId"><sqFilter [config]="config" (configChange)="loadPros($event)" prop="company.name"></sqFilter></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="email"></sqFilter></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="emailConfidence"></sqFilter></th>
    </tr>
  </thead>
  <tbody>

  <tr *ngFor="let pro of pros" [ngClass]="{'active': pro.isSelected}" (click)="selectPro(pro)">
    <td><input type="checkbox" [(ngModel)]="pro.isSelected"/></td>
    <td><app-country-flag [country]="pro.country"></app-country-flag></td>
    <td>
      <a *ngIf="pro.profileUrl" [href]="pro.profileUrl" target="_blank"><i class="fa fa-link"></i></a>
      <span class="title">{{ pro.firstName }} {{ pro.lastName }}</span>
    </td>
    <td>{{ pro.jobTitle }}</td>
    <td>
      <span *ngIf="requestId">{{ pro.company.name }}</span>
      <span *ngIf="!requestId">{{ pro.company }}</span>
    </td>
    <td>
      <span class="metas"><a [href]="'mailto:' + pro.email">{{ pro.email }}</a></span>
    </td>
    <td><progress class="progress tooltip" [attr.data-tooltip]="pro.emailConfidence || 0 + '%'" [value]="pro.emailConfidence || 0" max="100"></progress></td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="12">
      <app-pagination [config]="config" (configChange)="loadPros($event)" [total]="total" [propertyName]="'shared-pros'"></app-pagination>
    </td>
  </tr>
  </tfoot>
</table>

