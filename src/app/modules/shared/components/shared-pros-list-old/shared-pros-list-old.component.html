<h3>{{total}} Pros / {{ nbSelected }} sélectionnés</h3>
<smart-select [ngClass]="{'text-success': smartSelect}" (selectChange)="updateSelection($event)" [select]="smartSelect || {offset: config.offset, limit: config.limit}"></smart-select>
<table class="table-old pros" wt-responsive-table>
  <thead>
    <tr>
      <th></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'country'" label="COMMON.LABEL.COUNTRY"></app-shared-sort></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'firstName'" label="COMMON.LABEL.NAME"></app-shared-sort></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'jobTitle'" label="COMMON.LABEL.JOBTITLE"></app-shared-sort></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'company.name'" label="COMMON.LABEL.COMPANY"></app-shared-sort></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'email'" label="COMMON.LABEL.EMAIL"></app-shared-sort></th>
      <th><app-shared-sort [(sortConfig)]="sortConfig" [property]="'emailConfidence'" label="CAMPAIGNS.EMAIL_CONFIDENCE"></app-shared-sort></th>
    </tr>
    <tr>
      <th></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="country"></sqFilter></th>
      <th>
        <sqFilter [config]="config" (configChange)="loadPros($event)" prop="firstName"></sqFilter>
        <sqFilter [config]="config" (configChange)="loadPros($event)" prop="lastName"></sqFilter>
      </th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="jobTitle"></sqFilter></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="company.name"></sqFilter></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="email"></sqFilter></th>
      <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="emailConfidence"></sqFilter></th>
    </tr>
  </thead>
  <tbody>

  <tr *ngFor="let pro of pros" [ngClass]="{'active': pro.isSelected}" (click)="selectPro(pro)">
    <td><input type="checkbox" [(ngModel)]="pro.isSelected"/></td>
    <td><app-country-flag [country]="pro.country"></app-country-flag></td>
    <td>
      <a *ngIf="pro.profileUrl" [href]="pro.profileUrl" target="_blank"><i class="fa fa-link"></i></a>
      <i class="fa fa-list" (click)="showKeywords(pro._id)"></i>
      <span class="title">{{ pro.firstName }} {{ pro.lastName }}</span>
    </td>
    <td>{{ pro.jobTitle }}</td>
    <td>
      <span>{{ pro.company['name'] }}</span>
      <span>{{ pro.company }}</span>
    </td>
    <td>
      <span class="metas"><a [href]="'mailto:' + pro.email">{{ pro.email }}</a></span>
    </td>
    <td><progress class="progress tooltip" [attr.data-tooltip]="pro.emailConfidence || 0 + '%'" [value]="pro.emailConfidence || 0" max="100"></progress></td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="12">
      <app-pagination [configValue]="paginationConfig"
                      (configChange)="changePaginationConfig($event)"
                      [total]="total"
                      [propertyName]="'shared-pros'"></app-pagination>
    </td>
  </tr>
  </tfoot>
</table>

<app-modal [(showModal)]="keywordsModal" [modalTitle]="'Keywords'">
  <small><strong>{{nbSelected}}</strong> {{ 'SEARCH.PRO' | translate }}s {{ 'SEARCH.SELECTED' | translate }}s</small>

  <ul>
    <li *ngFor="let keywords of proKeywords">{{ keywords }}</li>
  </ul>

  <div class="modal-footer">
    <button class="btn btn-sm btn-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
  </div>
</app-modal>

