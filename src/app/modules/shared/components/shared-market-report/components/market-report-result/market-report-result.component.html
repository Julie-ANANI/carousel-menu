<div id="market-report-result" class="bg-white box-style">

  <!-- top bar -->
  <div class="mrr__top-bar">
    <div class="d-flex align-center text-medium m-right-10">
      <img
        alt="Compass active"
        class="img-responsive m-right-10"
        src="https://res.cloudinary.com/umi/image/upload/app/default-images/configurator/compass-active.svg">
      {{ mission | mission:'objectiveName':reportingLang }}
    </div>
    <div class="relative flex-full">
      <div class="top-bar__path"></div>
      <div class="top-bar__img-boat absolute">
        <img
          alt="Boat"
          class="img-responsive m-auto"
          src="https://res.cloudinary.com/umi/image/upload/app/default-images/configurator/boat.svg">
      </div>
    </div>
    <img
      alt="Compass inactive"
      class="img-responsive"
      src="https://res.cloudinary.com/umi/image/upload/app/default-images/configurator/compass-inactive.svg">
  </div>
  <!-- /top bar -->

  <!-- content -->
  <div class="mrr__content-box p-top-25 p-left-50 p-right-50 p-bottom-40">

    <!-- heading -->
    <h2 class="title is-main m-bottom-25">
      {{ reportingLang === 'fr' ? 'RÃ©sultat' : 'Result' }}
    </h2>
    <!-- /heading -->

    <!-- view -->
    <ng-container [ngSwitch]="mission?.template?.methodology">

      <!-- if has essentials -->
      <ng-container *ngIf="(mission | mission:'essentialsObjectives')?.length">

        <!-- case DETECTING_MARKET -->
        <ng-container *ngSwitchCase="'DETECTING_MARKET'">
          <div class="content-box__view">

          </div>
        </ng-container>
        <!-- /case DETECTING_MARKET -->

        <!-- case VALIDATING_MARKET -->
        <ng-container *ngSwitchCase="'VALIDATING_MARKET'">
          <div class="content-box__view">

          </div>
        </ng-container>
        <!-- /case VALIDATING_MARKET -->

        <!-- case VALIDATING_INTEREST -->
        <ng-container *ngSwitchCase="'VALIDATING_INTEREST'">
          <div class="content-box__view">

          </div>
        </ng-container>
        <!-- /case VALIDATING_INTEREST -->

      </ng-container>
      <!-- if has essentials -->

      <!-- case SOURCING_SOLUTIONS -->
      <ng-container *ngSwitchCase="'SOURCING_SOLUTIONS'">
        <div class="content-box__view">

        </div>
      </ng-container>
      <!-- /case SOURCING_SOLUTIONS -->

      <!-- case IDENTIFYING_RECEPTIVE -->
      <ng-container *ngSwitchCase="'IDENTIFYING_RECEPTIVE'">
        <div class="content-box__view">

        </div>
      </ng-container>
      <!-- /case IDENTIFYING_RECEPTIVE -->

    </ng-container>
    <!-- /view -->

    <!-- see more -->
    <ng-container *ngIf="mission?.template?.methodology !== 'OPTIMIZING_VALUE'">
      <div class="m-top-20 m-bottom-20 flex-centered">
        <button
          (click)="onClickSeeMore($event)"
          [id]="'btn-see-more'"
          class="button is-link text-no-underline">
          <span>{{ reportingLang === 'fr' ? 'En voir plus' : 'See more' }}</span>
          <i class="fas fa-arrow-circle-right icon-right" style="font-size: 22px;"></i>
        </button>
      </div>
    </ng-container>
    <!-- /see more -->

    <!-- abstract -->
    <div class="context-box__abstract relative">

      <!-- edit button -->
      <ng-container *ngIf="isEditable">
        <div class="mrr_edit-wrapper">
          <button
            (click)="toggleBtn($event, 'abstract')"
            [attr.data-tooltip]="toggleEdit.abstract ? 'Stop editing' : 'Edit'"
            [id]="'btn-edit-abstract'"
            class="button is-circled is-xs tooltip">
            <i class="fas fa-pencil-alt"></i>
          </button>
        </div>
      </ng-container>
      <!-- /edit button -->

      <!-- view mode -->
      <ng-container *ngIf="!toggleEdit.abstract">
        <div [innerHTML]="mission?.result?.abstract" style="margin-bottom: -8px;"></div>
      </ng-container>
      <!-- /view mode -->

      <!-- edit mode -->
      <ng-container *ngIf="toggleEdit.abstract">
        <app-shared-editors
          (textChange)="keyupHandlerFunction($event)"
          elementId="result"
          type="synthesis"
          [innovationId]="innovation._id"
          [isEditable]="true"
          [text]="mission?.result?.abstract || ''">
        </app-shared-editors>
        <p class="text-right text-meta text-sm text-medium p-top-15">
          {{ 1000 - mission?.result?.abstract.length }} characters remaining
        </p>
      </ng-container>
      <!-- /edit mode -->

    </div>
    <!-- /abstract -->

  </div>
  <!-- /content -->

</div>
