<div id="executive-section-wrapper">

  <!-- Title -->
  <div>

    <!-- Heading and Menu -->
    <div class="heading-menu">

      <!-- Heading -->
      <h1 class="main-heading">{{ questionSelected?.title | multiling:lang }}</h1>

      <!-- Menu -->
      <div *ngIf="adminSide" class="menu-icon">
        <i class="fas fa-bars"></i>
        <div class="menu-item-wrapper">
          <ul>
            <li *ngFor="let option of sectionMenuOptions" (click)="onTitleClicked($event, option)">
              {{ option?.title | multiling }}
            </li>
          </ul>
        </div>
      </div>

    </div>
    <!-- /Heading and Menu -->

    <!-- Follow -->
    <p *ngIf="questionSelected && stats" class="sub-title">
      <span *ngIf="questionSelected?.controlType !== 'checkbox'">
        <i class="fas fa-user"></i> {{ stats.nbAnswers || 0 }} {{ 'MARKET_REPORT.EXECUTIVE_TEMPLATE.ANSWERS' | translate }}
      </span>
      <span *ngIf="questionSelected?.controlType === 'checkbox'">
        <i class="fas fa-briefcase"></i> {{ stats.nbAnswers || 0 }} {{ questionSelected?.title | multiling:lang | lowercase }}
      </span>
      <span
        pageScroll
        pageScrollOffset="135"
        [href]="'#' + questionSelected?.identifier"
        class="text-link">
        {{ 'MARKET_REPORT.EXECUTIVE_TEMPLATE.REMAINING.MORE' | translate }}
      </span>
    </p>
    <!-- /Follow -->

  </div>
  <!-- /Title -->


  <!-- Answer display -->
  <div *ngIf="questionSelected" class="text-center">

    <!-- If the question type is checkbox or radio -->
    <ng-container *ngIf="questionSelected?.controlType === 'checkbox' || questionSelected?.controlType === 'radio'">
      <app-bar-chart
        [answers]="answersToShow"
        [innovation]="innovation"
        [question]="questionSelected"
        [executiveReport]="true"
        [stats]="stats">
      </app-bar-chart>
    </ng-container>
    <!-- /If the question type is checkbox or radio -->


    <!-- If the question type is star -->
    <ng-container *ngIf="selectedQuestion?.controlType === 'stars'">
      <app-stars
        [answers]="answersToShow"
        [innovation]="innovation"
        [question]="questionSelected"
        [executiveReport]="true">
      </app-stars>
    </ng-container>
    <!-- /If the question type is star -->

    <!-- If the question is not checkbox, radio, stars -->
    <ng-container *ngIf="questionSelected?.controlType !== 'checkbox' && questionSelected?.controlType !== 'radio' && questionSelected?.controlType !== 'stars'">

      <ng-container *ngIf="tags.length > 0">
        <div *ngFor="let tag of tags | slice:0:3" class="tag">
          <div *ngIf="tag.count > 1" class="tag-count">&nbsp;{{ tag.count }}X</div>
          <div><span class="tag-outer-wrapper" [ngStyle]="{ 'background-color': getColor(questionSelected?.title | multiling:lang ) }">#{{ tag.label | multiling:lang }}</span></div>
        </div>
      </ng-container>

      <ng-container *ngIf="tags.length === 0">
        <div class="no-tags">
          <div class="tag-count">0X</div>
          <div><span class="tag-outer-wrapper">{{ 'MARKET_REPORT.EXECUTIVE.NO_TAGS' | translate }}</span></div>
        </div>
      </ng-container>

    </ng-container>
    <!-- If the question is not checkbox, radio, stars -->


  </div>
  <!-- /Answer display -->

  <!-- Abstract -->
  <p *ngIf="questionSelected" class="abstract-value">{{ abstractValue }}</p>
  <!-- /Abstract -->

</div>
