<section id="question-conclusion-component">

  <!-- conclusion -->
  <div class="conclusion-wrapper section-pad full">

    <h3 *ngIf="question?.title" class="title-primary">{{ question?.title | multiling:lang }}</h3>

    <h4 *ngIf="question?.label" class="title-secondary">{{ question?.label | multiling:lang }}</h4>

    <div *ngIf="receivedTags.length > 0" class="tag-wrapper section-light-pad rm-pad-top">
      <div *ngFor="let tag of receivedTags" class="label label-success label-rounded" [title]="tag.description | multiling:lang">
        <i class="fas fa-tag"></i><span class="label-text">{{ tag.label | multiling:lang }}</span>
        <span *ngIf="tag.count > 1" class="label-text">(x{{ tag.count }})</span>
      </div>
    </div>

    <h5 *ngIf="isMainDomain()" class="op-text">{{ 'COMMON.UMI_WORD' | translate }}</h5>

    <app-text-zone
      [elementId]="domSectionId"
      [readonly]="readonly"
      [data]="innovation.marketReport[question.identifier]?.conclusion || ''"
      (onTextChange)="keyupHandlerFunction($event)">
    </app-text-zone>

    <div *ngIf="answersOrigin !== null" class="answer-origin section-light-pad rm-pad-bottom">

      <h3 class="title-secondary">Geographical Distribution:</h3>

      <ul>
        <li *ngFor="let item of answersOrigin | keyvalue">
          {{ ('CONTINENTS.' + item.key) | translate }}: {{ item.value }}
        </li>
      </ul>

    </div>

  </div>
  <!-- /conclusion -->

  <ng-container [ngSwitch]="question?.controlType">
    <div class="stat-wrapper section-pad full text-center flex-centered">

      <!-- pie chart -->
      <ng-container *ngSwitchCase="'radio'">
        <app-piechart [pieChart]="pieChart"></app-piechart>
      </ng-container>

      <!-- ou encadrÃ© bleu -->
      <ng-container *ngSwitchDefault>
        <app-market-report-bluesquare
          [numberFocus]="stats.nbAnswers"
          [percentage]="stats.percentage"
          [subtitle]="question.subtitle | multiling:lang">
        </app-market-report-bluesquare>
      </ng-container>

    </div>
  </ng-container>

</section>
