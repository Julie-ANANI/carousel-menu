<div class="market-report" *ngIf="canShow()">

    <h1>{{infographics.title}}</h1>
    <p class="subtitle">{{ 'MARKET_REPORT.TITLE' | translate }}</p>


    <div class="flex-container">
      <!-- *********************************************************
            Sidebar
        ************************************************************** -->

      <div class="sidebar" sticky body-class="sidebarIsSticky" sticky-class="imSoSticky" stick-limit="false">
        <div (click)="toggleSections()" class="toggle-sections">
          {{ detailsExpanded ? 'MARKET_REPORT.COLLAPSE' : 'MARKET_REPORT.EXPAND' | translate}}
          <i class="fa float-right" aria-hidden="true"
             [ngClass]="{'fa-plus-square-o': !detailsExpanded, 'fa-minus-square-o': detailsExpanded}"></i>
        </div>
        <ul>
          <li>
            <a href="#professional" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.PROFESSIONAL.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#market-need" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.MARKET_NEED.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#relevance-solution" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.RELEVANCE.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#differentiation" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.DIFFERENTIATION.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#expression-of-interest" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#potential-partners" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.POTENTIAL_PARTNER.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#actual-competitors" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.ACTUAL_COMPETITION.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#price-suggestion" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.PRICE.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#strong-points" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.STRONG.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#objections" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.WEAK.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#new-application-fields" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.NEW_APPLICATION.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
          <li>
            <a href="#market-potential" du-smooth-scroll du-scrollspy>
              {{ 'MARKET_REPORT.MARKET_POTENTIAL.SIDEBAR' | translate }}
              <i class="fa fa-angle-right float-right" aria-hidden="true"></i>
            </a>
          </li>
        </ul>
      </div>


      <div class="content">
        <!-- *********************************************************
                Liste des professionnels
            ************************************************************** -->

        <section id="professional">
          <h2>{{ 'MARKET_REPORT.PROFESSIONAL.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.professionals.length}}</span>
                  {{ 'MARKET_REPORT.PROFESSIONAL.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-follow-innovation">
                  <img src="https://res.cloudinary.com/umi/image/upload/v1506520012/Application/star.svg" alt="" width="22" height="22" class="center-block">
                  <span>{{infographics.stats.percentageFollow}}%</span>
                  {{ 'MARKET_REPORT.PROFESSIONAL.FOLLOW_PLURAL' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.PROFESSIONAL.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.professionals)"></p>-->
              </div>
            </div>

            <div class="bloc">
              <div class="map center-block" width="684" height="339">
                <world-map [countries]="infographics.worldMap" [color]="'#0B90C6'"></world-map>
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('professionals')}"
                    (click)="toggleDetails('professionals')">
              {{showDetails('professionals') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('professionals'), 'fa-angle-down': !showDetails('professionals')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('professionals')">
              <div class="flex-container wrap">

                <div *ngFor="let professional of infographics.professionals" class="professional-item">
                  <img [src]="getFlag(professional.answers[0].country.notation)"
                       alt="" width="37" height="25" class="user-flag">

                  <p class="user-name" *ngIf="professional.profileUrl">
                    <a href="{{showDetails('professionals')}}" target="_blank">
                      {{professional.firstName}} {{professional.lastName}}
                    </a>
                  </p>
                  <p class="user-name" *ngIf="!professional.profileUrl">
                    {{professional.firstName}} {{professional.lastName}}
                    <img src="/assets/common/star.svg" alt="" width="15" height="15" *ngIf="professional.answers[0].follow" attr.tooltip-placement="top" attr.tooltip="{{ 'MARKET_REPORT.PROFESSIONAL.FOLLOW_PLURAL' | translate }}">
                  </p>

                  <p class="user-job"><i class="fa fa-user" aria-hidden="true"></i> {{professional.answers[0].job}}</p>
                  <p *ngIf="professional.company" class="user-company"><i class="fa fa-building-o" aria-hidden="true"></i> {{professional.company}}</p>

                  <a href="" (click)="seeAnswer(professional)" class="see-answer">{{ 'MARKET_REPORT.SEE_ANSWERS' | translate }}</a><br>
                  <a href="mailto: {{professional.email}}">{{professional.email}}</a>
                </div>

              </div>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                Besoin du marché
            ************************************************************** -->

        <section id="market-need">
          <h2>{{ 'MARKET_REPORT.MARKET_NEED.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <canvas
                  class="chart chart-pie"
                  baseChart
                  [chartType]="'pie'"
                  [legend]="false"
                  [datasets]="getPiechartData('relevantProblematic')"
                  [labels]="getLevels('relevantProblematic', 'en')"
                  [colors]="['#C0210F', '#F2C500', '#82CD30', '#34AC01']">
                </canvas>
                <div class="number-ratio">
                  <span>{{infographics.pieCharts.relevantProblematic[3].percentage + infographics.pieCharts.relevantProblematic[4].percentage}}%</span>
                  {{ 'MARKET_REPORT.PIE_CHART' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.MARKET_NEED.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.relevantProblematic)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('relevantProblematic')}"
                    (click)="toggleDetails('relevantProblematic')">
              {{showDetails('relevantProblematic') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('relevantProblematic'), 'fa-angle-down': !showDetails('relevantProblematic')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('relevantProblematic')">
              <bar-chart
                [levels]="getLevels('relevantProblematic', 'en')"
                [stats]="infographics.pieCharts.relevantProblematic"
                [number]="true">
              </bar-chart>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                        Pertinence de la solution
                    ************************************************************** -->

        <section id="relevance-solution">
          <h2>{{ 'MARKET_REPORT.RELEVANCE.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <canvas
                  class="chart chart-pie"
                  baseChart
                  [chartType]="'pie'"
                  [legend]="false"
                  [datasets]="getPiechartData('productAnsweringProblematic')"
                  [labels]="getLevels('productAnsweringProblematic', 'en')"
                  [colors]="['#C0210F', '#F2C500', '#82CD30', '#34AC01']">
                </canvas>
                <div class="number-ratio">
                  <span>{{infographics.pieCharts.productAnsweringProblematic[3].percentage + infographics.pieCharts.productAnsweringProblematic[4].percentage}}%</span>
                  {{ 'MARKET_REPORT.PIE_CHART' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.RELEVANCE.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.productAnsweringProblematic)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('productAnsweringProblematic')}"
                    (click)="toggleDetails('productAnsweringProblematic')">
              {{showDetails('productAnsweringProblematic') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('productAnsweringProblematic'), 'fa-angle-down': !showDetails('productAnsweringProblematic')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('productAnsweringProblematic')">
              <bar-chart
                [levels]="getLevels('productAnsweringProblematic', 'en')"
                [stats]="infographics.pieCharts.productAnsweringProblematic"
                [number]="true">
              </bar-chart>
            </div>
          </div>
        </section>


        <!-- *********************************************************
                Différenciation
            ************************************************************** -->

        <section id="differentiation">
          <h2>{{ 'MARKET_REPORT.DIFFERENTIATION.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <canvas
                  class="chart chart-pie"
                  baseChart
                  [chartType]="'pie'"
                  [legend]="false"
                  [datasets]="getPiechartData('productInterests')"
                  [labels]="getLevels('productInterests', 'en')"
                  [colors]="['#C0210F', '#F2C500', '#82CD30', '#34AC01']">
                </canvas>
                <div class="number-ratio">
                  <span>{{infographics.pieCharts.productInterests[3].percentage + infographics.pieCharts.productInterests[4].percentage}}%</span>
                  {{ 'MARKET_REPORT.PIE_CHART' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.DIFFERENTIATION.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.productInterests)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('productInterests')}"
                    (click)="toggleDetails('productInterests')">
              {{showDetails('productInterests') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('productInterests'), 'fa-angle-down': !showDetails('productInterests')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('productInterests')">
              <bar-chart
                [levels]="getLevels('productInterests', 'en')"
                [stats]="infographics.pieCharts.productInterests"
                [number]="true">
              </bar-chart>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                        Marques d’intérêt
                    ************************************************************** -->

        <section id="expression-of-interest">
          <h2>{{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.interestOfProfessionals.client.length + infographics.interestOfProfessionals.develop.length + infographics.interestOfProfessionals.distributor.length}}</span>
                  {{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentageInterestOfProfessionals}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(infographic.synthesis.interestOfProfessionals)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('interestOfProfessionals')}"
                    (click)="toggleDetails('interestOfProfessionals')">
              {{showDetails('interestOfProfessionals') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('interestOfProfessionals'), 'fa-angle-down': !showDetails('interestOfProfessionals')}"></i>
            </button>


            <div class="bloc details" *ngIf="showDetails('interestOfProfessionals')">
              <bar-chart
                [levels]="getLevels('interestOfProfessionals', 'en')"
                [stats]="infographics.pieCharts.interestOfProfessionals"
                [number]="false">
              </bar-chart>
            </div>

            <div class="bloc details" *ngIf="showDetails('interestOfProfessionals') && infographics.interestOfProfessionals.client.length">
              <p class="title-question">{{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.CLIENT' | translate }}</p>

              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let client of infographics.interestOfProfessionals.client; let i = index"
                        [hidden]="i >= infographics.interestOfProfessionals.client.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(client.persons)"
                                   [value]="client.value"
                                   [count]="client.count"
                                   [url]="client.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let client of infographics.interestOfProfessionals.client; let i = index"
                        [hidden]="i < infographics.interestOfProfessionals.client.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(client.persons)"
                                   [value]="client.value"
                                   [count]="client.count"
                                   [url]="client.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bloc details" *ngIf="showDetails('interestOfProfessionals') && infographics.interestOfProfessionals.develop.length">
              <p class="title-question">{{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.DEVELOP' | translate }}</p>

              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let develop of infographics.interestOfProfessionals.develop; let i = index"
                        [hidden]="i >= infographics.interestOfProfessionals.develop.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(develop.persons)"
                                   [value]="develop.value"
                                   [count]="develop.count"
                                   [url]="develop.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let develop of infographics.interestOfProfessionals.develop; let i = index"
                        [hidden]="i < infographics.interestOfProfessionals.develop.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(develop.persons)"
                                   [value]="develop.value"
                                   [count]="develop.count"
                                   [url]="develop.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bloc details" *ngIf="showDetails('interestOfProfessionals') && infographics.interestOfProfessionals.distributor.length">
              <p class="title-question">{{ 'MARKET_REPORT.EXPRESSION_OF_INTEREST.DISTRIBUTE' | translate }}</p>

              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let distributor of infographics.interestOfProfessionals.distributor; let i = index"
                        [hidden]="i >= infographics.interestOfProfessionals.distributor.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(distributor.persons)"
                                   [value]="distributor.value"
                                   [count]="distributor.count"
                                   [url]="distributor.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let distributor of infographics.interestOfProfessionals.distributor; let i = index"
                        [hidden]="i < infographics.interestOfProfessionals.distributor.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(distributor.persons)"
                                   [value]="distributor.value"
                                   [count]="distributor.count"
                                   [url]="distributor.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                        Partenaires potentiels
                    ************************************************************** -->

        <section id="potential-partners">
          <h2>{{ 'MARKET_REPORT.POTENTIAL_PARTNER.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.partnersByProfessionals.length}}</span>
                  {{ 'MARKET_REPORT.POTENTIAL_PARTNER.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentagePartners}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.POTENTIAL_PARTNER.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.partners)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('partners')}"
                    (click)="toggleDetails('partners')">
              {{showDetails('partners') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('partners'), 'fa-angle-down': !showDetails('partners')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('partners')">
              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let partner of infographics.partnersByProfessionals; let i = index"
                        [hidden]="i >= infographics.partnersByProfessionals.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(partner.persons)"
                                   [value]="partner.value"
                                   [count]="partner.count"
                                   [url]="partner.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let partner of infographics.partnersByProfessionals; let i = index"
                        [hidden]="i < infographics.partnersByProfessionals.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(partner.persons)"
                                   [value]="partner.value"
                                   [count]="partner.count"
                                   [url]="partner.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bloc details" *ngIf="showDetails('partners') && infographics.partnersComments.length">
              <p class="title-question">{{infographics.partnersComments.length}} {{ 'MARKET_REPORT.COMMENTS' | translate }}</p>

              <ul class="comments">
                <li *ngFor="let comment of infographics.partnersComments; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                Concurrence actuelle
            ************************************************************** -->

        <section id="actual-competitors">
          <h2>{{ 'MARKET_REPORT.ACTUAL_COMPETITION.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.competitors.companies.length}}</span>
                  {{ 'MARKET_REPORT.ACTUAL_COMPETITION.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentageCompetitors}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.ACTUAL_COMPETITION.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.competitors)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('competitors')}"
                    (click)="toggleDetails('competitors')">
              {{showDetails('partners') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('competitors'), 'fa-angle-down': !showDetails('competitors')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('competitors')">
              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let competitor of infographics.competitors.companies; let i = index"
                        [hidden]="i >= infographics.competitors.companies.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(competitor.persons)"
                                   [value]="competitor.value"
                                   [count]="competitor.count"
                                   [url]="competitor.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let competitor of infographics.competitors.companies; let i = index"
                        [hidden]="i < infographics.competitors.companies.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(competitor.persons)"
                                   [value]="competitor.value"
                                   [count]="competitor.count"
                                   [url]="competitor.url"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bloc details" *ngIf="showDetails('competitors') && infographics.competitorsComments.length">
              <p class="title-question">{{infographics.competitorsComments.length}} {{ 'MARKET_REPORT.COMMENTS' | translate }}</p>

              <ul class="comments">
                <li *ngFor="let comment of infographics.competitorsComments; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                        Recommandations de prix
                    ************************************************************** -->

        <section id="price-suggestion">
          <h2>{{ 'MARKET_REPORT.PRICE.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.prices.length + infographics.pricesComments.length}}</span>
                  {{ 'MARKET_REPORT.PRICE.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentagePrices}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.PRICE.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.prices)"></p>-->
              </div>
            </div>

            <div class="bloc" id="prices" *ngIf="infographics.priceAverage">
              <infographics-prices [data]="infographics.prices"></infographics-prices>

              <div class="average">Moyenne : {{infographics.priceAverage}}€</div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('prices')}"
                    (click)="toggleDetails('prices')">
              {{showDetails('prices') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('prices'), 'fa-angle-down': !showDetails('prices')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('prices') && infographics.pricesComments.length">
              <p class="title-question">{{infographics.pricesComments.length}} {{ 'MARKET_REPORT.COMMENTS' | translate }}</p>

              <ul class="comments">
                <li *ngFor="let comment of infographics.pricesComments; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                Points forts
            ************************************************************** -->

        <section id="strong-points">
          <h2>{{ 'MARKET_REPORT.STRONG.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.commentsPositive.length}}</span>
                  {{ 'MARKET_REPORT.STRONG.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentageCommentsPositive}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.STRONG.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.commentsPositive)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('commentsPositive')}"
                    (click)="toggleDetails('commentsPositive')">
              {{showDetails('commentsPositive') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('commentsPositive'), 'fa-angle-down': !showDetails('commentsPositive')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('commentsPositive') && infographics.commentsPositive.length">
              <ul class="comments">
                <li *ngFor="let comment of infographics.commentsPositive; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>

          </div>
        </section>

        <!-- *********************************************************
            Objections
        ************************************************************** -->

        <section id="objections">
          <h2>{{ 'MARKET_REPORT.WEAK.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.commentsNegative.length}}</span>
                  {{ 'MARKET_REPORT.WEAK.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentageCommentsNegative}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.WEAK.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.commentsNegative)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('commentsNegative')}"
                    (click)="toggleDetails('commentsNegative')">
              {{showDetails('commentsNegative') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('commentsNegative'), 'fa-angle-down': !showDetails('commentsNegative')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('commentsNegative') && infographics.commentsNegative.length">
              <ul class="comments">
                <li *ngFor="let comment of infographics.commentsNegative; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>

          </div>
        </section>


        <!-- *********************************************************
               Nouvelles applications
           ************************************************************** -->

        <section id="new-application-fields">
          <h2>{{ 'MARKET_REPORT.NEW_APPLICATION.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="number-answers">
                  <span>{{infographics.applications.length}}</span>
                  {{ 'MARKET_REPORT.NEW_APPLICATION.NUMBER' | translate }}
                </div>
                <hr>
                <div class="number-ratio">
                  <span>{{infographics.stats.percentageApplications}}%</span> {{ 'MARKET_REPORT.SYNTHESIS_FRAME' | translate }}
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.NEW_APPLICATION.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.applications)"></p>-->
              </div>
            </div>

            <button type="button" class="market-report-btn center-block"
                    [ngClass]="{'active': showDetails('applications')}"
                    (click)="toggleDetails('applications')">
              {{showDetails('applications') ? 'MARKET_REPORT.BTN_DETAILS_CLOSE' : 'MARKET_REPORT.BTN_DETAILS_OPEN' | translate}}
              <i class="fa" aria-hidden="true"
                 [ngClass]="{'fa-angle-up': showDetails('applications'), 'fa-angle-down': !showDetails('applications')}"></i>
            </button>

            <div class="bloc details" *ngIf="showDetails('applications')">
              <div class="flex-container">
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let application of infographics.applications; let i = index"
                        [hidden]="i >= infographics.applications.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(application.persons)"
                                   [value]="application.value"
                                   [count]="application.count"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
                <div class="column">
                  <ul class="items">
                    <li *ngFor="let application of infographics.applications; let i = index"
                        [hidden]="i < infographics.applications.length/2">
                      <market-item class="flex-container"
                                   [professionals]="getProfessionals(application.persons)"
                                   [value]="application.value"
                                   [count]="application.count"
                                   [isNew]="false">
                      </market-item>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bloc details" *ngIf="showDetails('applications') && infographics.applicationsComments.length">
              <p class="title-question">{{infographics.applicationsComments.length}} {{ 'MARKET_REPORT.COMMENTS' | translate }}</p>

              <ul class="comments">
                <li *ngFor="let comment of infographics.applicationsComments; let i = index">
                  <market-comment
                    [job]="comment.job"
                    [country]="comment.flag"
                    [company]="comment.company"
                    [comment]="comment.comment"
                    [isNew]="false"
                    [professionals]="comment.professionalsList">
                  </market-comment>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- *********************************************************
                Potentiel marché
            ************************************************************** -->

        <section id="market-potential">
          <h2>{{ 'MARKET_REPORT.MARKET_POTENTIAL.TITLE' | translate }}</h2>

          <div class="white-frame">
            <div class="flex-container">
              <div class="big-blue-synthesis">
                <div class="total-score">
                  <span>{{infographics.scoreAverage}}</span>/10
                </div>
              </div>

              <div class="umi-synthesis flex-container">
                <p class="title">{{ 'MARKET_REPORT.MARKET_POTENTIAL.QUESTION' | translate }}</p>
                <!--<p class="desc" ng-bind-html="$sce.trustAsHtml(syntheses.marketPotential)"></p>-->
              </div>
            </div>

            <div class="bloc">
              <div class="column-graph flex-container">
                <div *ngFor="let score of infographics.scores; let i = index"
                     class="vertical-bar number{{score.value}}">
                  <div class="bar-fill" [style.height]="getFillPerc(score.count)" *ngIf="score.count"></div>
                  <div class="bar-stats" *ngIf="score.count">{{score.count}}</div>
                  <div class="bar-picture" *ngIf="score.count"></div>
                  <div class="bar-score">{{score.value}}/10</div>
                </div>
              </div>

            </div>
          </div>
        </section>



      </div>
    </div>
</div>
