<div id="shared-tags">

  <!-- input field -->
  <form (ngSubmit)="onSubmit()" *ngIf="editMode" [formGroup]="tagForm">
    <div class="form-group flex-between">

      <label class="d-block w-full">
        <input
          [attr.placeholder]="placeholder | translate"
          [list-formatter]="autocompleListFormatter"
          [source]="tagSuggestions.bind(this)"
          [value-formatter]="autocompleValueFormatter"
          [ngClass]="{'is-sm': isSmall}"
          auto-complete
          class="form-input is-shadowed"
          formControlName="tag">
      </label>

      <div>
        <button
          [disabled]="!canAdd"
          [ngClass]="{'tooltip': canAdd, 'is-xs': isSmall, 'is-sm': !isSmall}"
          class="button is-circled is-primary"
          data-tooltip="Add tag">
          <i class="icon icon-plus"></i>
        </button>
      </div>

    </div>
  </form>
  <!-- /input field -->

  <!-- displaying tags -->
  <div *ngIf="tags.length" [ngStyle]="{'margin': '-4px'}" class="flex-wrap d-flex">
    <div *ngFor="let tag of tags" [title]="tag.description | multiling:currentLang" class="label is-tag is-rounded">
      <i class="fas fa-tag icon-left"></i>
      {{ tag.label | multiling:currentLang }}
      <i (click)="onRemoveTag(tag)" *ngIf="editMode" class="icon icon-cross icon-right"></i>
    </div>
  </div>
  <!-- /displaying tags -->

</div>


<!-- modal to create new tag -->
<app-utility-modal *ngIf="editMode" [(showModal)]="showModal" [title]="'Creation Board'">

  <section class="modal-body">
    Do you really want to create a new tag?
    <p class="form-label m-top-15">Tag Name</p>
    <p class="text-sm m-no-bottom">{{ tagForm.get('tag').value }}</p>
  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel" type="button">Cancel</button>
    <button (click)="createNewTag()" class="button is-primary" type="button">Confirm</button>
  </footer>

</app-utility-modal>
<!-- /modal to create new tag -->
