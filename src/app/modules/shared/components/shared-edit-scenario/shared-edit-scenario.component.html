<div>
  <div class="d-flex">
    <!-- BOUTON COLLAPSE -->
    <button type="button" class="btn btn-outline-primary" (click)="isCollapsed = !isCollapsed" *ngIf="inCampaign"
            [attr.aria-expanded]="!isCollapsed" aria-controls = "collapseMails">
      {{scenario.name}}
    </button>
    <h2 *ngIf="!inCampaign"> {{scenario.name}} </h2>
    <!--
    Langues :
    <div *ngFor="let language of availableLanguages" class="form-group">
      <label class="form-checkbox">
        <input type="checkbox" [checked]="displayedLanguages.indexOf(language) > -1" (click)="checkLanguage(language)"/>
        <i class="form-icon"></i> {{ language }}
      </label>
    </div>

    Profils :
    <div *ngFor="let profile of availableProfiles" class="form-group">
      <label class="form-checkbox">
        <input type="checkbox" [checked]="displayedProfiles.indexOf(profile) > -1" (click)="checkProfile(profile)"/>
        <i class="form-icon"></i> {{ profile }}
      </label>
    </div>
   -->
    <div *ngIf="inCampaign">
      <i class="fas fa-check" *ngIf="_isModified"></i>
      <i class="fas fa-times" *ngIf="!_isModified"></i>
    </div>
    <button type="button" class="btn btn-outline-primary" (click)="areYouSureYouWantToRemoveMe()" *ngIf="inCampaign">
      <i class="fa fa-trash"></i>
    </button>
  </div>

  <div id="collapseMails" [hidden]="isCollapsed" *ngIf="inCampaign"> <!-- Todo: Changer l'event.-->
    <app-shared-edit-emails-step [emails]="first" [step]="'FIRST'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'FIRST')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="second" [step]="'SECOND'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'SECOND')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="third" [step]="'THIRD'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'THIRD')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="thanks" [step]="'THANKS'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'THANKS')"></app-shared-edit-emails-step>
  </div>
  <div *ngIf="!inCampaign">
    <app-shared-edit-emails-step [emails]="first" [step]="'FIRST'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'FIRST')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="second" [step]="'SECOND'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'SECOND')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="third" [step]="'THIRD'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'THIRD')"></app-shared-edit-emails-step>
    <app-shared-edit-emails-step [emails]="thanks" [step]="'THANKS'" [inCampaign]="inCampaign" (emailsChange)="save($event, 'THANKS')"></app-shared-edit-emails-step>
  </div>


  <!-- Modal Are you really sure you want to delete this scenario from the campaign-->
  <div class="modal" [ngClass]="{'active': modalRemoveScenario}">
    <div class="modal-overlay" (click)="(modalRemoveScenario = !modalRemoveScenario)"></div>
    <div class="modal-container">
      <div class="modal-header">
        <button class="btn btn-clear float-right" (click)="(modalRemoveScenario = !modalRemoveScenario)"></button>
        <div class="modal-title h5">{{ 'CAMPAIGNS.DELETE_MODAL.TITLE' | translate }}</div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-link" (click)="removeMeFromCampaign()">{{ 'COMMON.DELETE' | translate }}</button>
        <button class="btn btn-primary" (click)="(modalRemoveScenario = !modalRemoveScenario)">
          {{ 'COMMON.CANCEL' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
