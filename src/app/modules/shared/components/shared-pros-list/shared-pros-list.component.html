<h3>{{total}} Pros / {{ nbSelected }} sélectionnés</h3>
<smart-select [ngClass]="{'text-success': smartSelect}" (selectChange)="updateSelection($event)" [select]="smartSelect || {offset: config.offset, limit: config.limit}"></smart-select>
<table class="table pros" wt-responsive-table>
  <thead>
  <tr>
    <th></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'language'">{{ 'COMMON.LANGUAGE' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'country'">{{ 'COMMON.COUNTRY' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'firstName'" >{{ 'COMMON.NAME' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'jobTitle'">{{ 'COMMON.JOBTITLE' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'company'">{{ 'COMMON.COMPANY' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'email'">{{ 'COMMON.EMAIL' | translate }}</sq-sort></th>
    <th><sq-sort [config]="config" (configChange)="loadPros($event)" [prop]="'emailConfidence'">{{ 'CAMPAIGNS.EMAIL_CONFIDENCE' | translate }}</sq-sort></th>
  </tr>
  <tr>
    <th></th>
    <th></th>
    <th></th>
    <th>
      <sqFilter [config]="config" (configChange)="loadPros($event)" prop="firstName"></sqFilter>
      <sqFilter [config]="config" (configChange)="loadPros($event)" prop="lastName"></sqFilter>
    </th>
    <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="jobTitle"></sqFilter></th>
    <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="company"></sqFilter></th>
    <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="email"></sqFilter></th>
    <th><sqFilter [config]="config" (configChange)="loadPros($event)" prop="emailConfidence"></sqFilter></th>
  </tr>
  </thead>
  <tbody>

  <tr *ngFor="let pro of pros" (click)="pro.isSelected = !pro.isSelected" [ngClass]="{'active': pro.isSelected}">
    <td> <input type="checkbox" [(ngModel)]="pro.isSelected"/></td>
    <td>{{ pro.language }}</td>
    <td><img [src]="buildImageUrl(pro.country)" width="37" height="25"/></td>
    <td>
      <a *ngIf="pro.profileUrl" [href]="pro.profileUrl" target="_blank"><i class="fa fa-linkedin"></i></a>
      <span class="title">{{ pro.firstName }} {{ pro.lastName }}</span>
    </td>
    <td>{{ pro.jobTitle }}</td>
    <td>
      <span *ngIf="requestId">{{ pro.company.name }}</span>
      <span *ngIf="!requestId">{{ pro.company }}</span>
    </td>
    <td>
      <span class="metas"><a [href]="'mailto:' + pro.email">{{ pro.email }}</a></span>
    </td>
    <td><progress class="progress tooltip" [attr.data-tooltip]="pro.emailConfidence + '%'" [value]="pro.emailConfidence || 0" max="100"></progress></td>
  </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="12">
      <sqPagination [config]="config" (configChange)="loadPros($event)" [total]="total"></sqPagination>
    </td>
  </tr>
  </tfoot>
</table>

