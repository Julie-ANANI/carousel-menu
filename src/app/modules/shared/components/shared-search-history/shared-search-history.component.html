<h6>
  <i (click)="relaunchRequests()" class="c-hand fa fa-bolt"></i>
  <span *ngIf="paused" class="text-error">Module en pause</span>
  <span *ngIf="!paused" class="text-success">
      Module en fonctionnement
    </span>
  -
  <span [ngClass]="{
  'text-success': googleQuota > 10000,
  'text-warning': googleQuota < 10000 && googleQuota > 5000,
  'text-error': googleQuota < 5000}">
    {{ googleQuota }} requêtes google restantes</span>
</h6>

<div class="column col-6 col-mx-auto p-20">
  <app-auto-complete-input
    (update)="updateInno($event)"
    [config]="{placeholder: 'Innovation', type: 'innovation'}">
  </app-auto-complete-input>
</div>

<div class="analysis-content">
  <ng-container *ngIf="suggestions.length">
    <p class="text-primary m-h"> {{ 'SEARCH.ROBOT.SUGGESTED' | translate }} </p>
    <ul class="text-secondary text-sm">
      <li *ngFor="let suggestion of suggestions" class="d-inline-flex m-right-10">
        {{suggestion}}
      </li>
    </ul>
  </ng-container>
</div>

<app-shared-table
  [(config)]="config"
  [data]="tableInfos"
  (editRow)="openSidebar($event)"
  (performAction)="onClickActions($event)"
></app-shared-table>

<!-- sidebar to request details -->
<app-sidebar [(template)]="sidebarValue">
  <app-sidebar-search-history
    [request]="selectedRequest">
  </app-sidebar-search-history>
</app-sidebar>
<!-- /sidebar to advanced search -->


<!-- MODAL : Ajout de pros à une campagne -->
<app-modal [(showModal)]="addToCampaignModal" [title]="'SEARCH.CAMPAIGN.TITLE'">

  <section class="modal-body">

    <small><strong>{{ total }}</strong> {{ 'SEARCH.PRO' | translate }}s {{ 'SEARCH.SELECTED' | translate }}s</small>
    <div id="campaign-autocomplete">
      <app-auto-complete-input
        (update)="updateCampaign($event)"
        [onlyOne]="true"
        [config]="{placeholder: 'campagne', initialData: chosenCampaign, type: 'campaign'}">
      </app-auto-complete-input>
    </div>
    <label class="form-switch" for="launchNewRequests">
      <input
        type="checkbox"
        name="role"
        id="launchNewRequests"
        [checked]="launchNewRequests"
        (change)="launchNewRequests = !launchNewRequests">
      <i class="form-icon"></i>Lancer des nouvelles requêtes pour compléter le ciblage
    </label>
    <app-shared-targeting-world *ngIf="chosenCampaign" [(geography)]="geography" [isEditable]="true"></app-shared-targeting-world>


  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button (click)="addToCampaign(chosenCampaign, true)" [disabled]="!chosenCampaign" class="button is-primary">
      {{ 'SEARCH.CAMPAIGN.ADDANDSEE' | translate }}
    </button>
    <button (click)="addToCampaign(chosenCampaign)" [disabled]="!chosenCampaign" class="button is-primary">
      {{ 'SEARCH.ADD' | translate }}
    </button>
  </footer>

</app-modal>
