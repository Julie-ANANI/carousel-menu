<div class="section-container" id="pitchCard" *ngIf="project">
  <div class="columns">
    <div class="column col-xs-12 col-12 col-mx-auto">

      <form novalidate [formGroup]="innovationData">

        <!-- Describe -->
        <div class="column col-sm-12 col-6 col-mx-auto">
          <div class="describe-container">
            <span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.LANGUAGE_CHOICE' | translate }}</span>
            <label for="innovationLang">
              <input type="radio" id="innovationLang">
              <div class="circle"><i class="fas fa-check"></i></div>
              <div class="offers">
                <img src="https://res.cloudinary.com/umi/image/upload/v1526375000/app/default-images/get-apps.svg">
              </div>
            </label>
          </div>
        </div>


        <div formArrayName="innovationCards">
          <div *ngFor="let innovationItem of innovationData.get('innovationCards').controls; let i = index" [formGroup]="innovationItem">
            <div *ngIf="innovationCardEditingIndex === i">

              <!-- Lang -->
              <div class="project-data">
                <span class="num-rect">1</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.UPDATE_LANGUAGE' | translate }}</span>
                <div class="form-group pd-label">
                  <label class="form-radio">
                    <input type="radio" value="fr" name="lang" formControlName="lang">
                    <i class="form-icon"></i>{{ 'COMMON.LANG.FR' | translate }}
                  </label>
                  <label class="form-radio">
                    <input type="radio" value="en" name="lang" formControlName="lang">
                    <i class="form-icon"></i>{{ 'COMMON.LANG.EN' | translate }}
                  </label>
                </div>
              </div>

              <!-- Title -->
              <div class="project-data">
                <span class="num-rect">2</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.TITLE.LABEL' | translate }}</span>
                <div class="form-group pd-label">
                  <input
                    type="text"
                    id="innovation-title"
                    class="form-input-default"
                    name="name"
                    formControlName="title"
                    [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.TITLE.PLACEHOLDER' | translate">
                </div>
              </div>

              <!-- Summary -->
              <div class="project-data">
                <span class="num-rect">3</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SUMMARY.LABEL' | translate }}</span>
                <div class="form-group pd-label">
                  <textarea
                    [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SUMMARY.PLACEHOLDER' | translate"
                    rows="4"
                    class="form-input-default"
                    formControlName="summary">
                  </textarea>
                </div>
              </div>

              <!-- Problem -->
              <div class="project-data">
                <span class="num-rect">4</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.PROBLEM.LABEL' | translate }}</span>
                <div class="form-group pd-label">
                  <textarea
                    [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.PROBLEM.PLACEHOLDER' | translate"
                    rows="8"
                    id="innovation-problem"
                    class="form-input-default"
                    formControlName="problem">
                  </textarea>
                </div>
              </div>

              <!-- Solution -->
              <div class="project-data">
                <span class="num-rect">5</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.PROBLEM.LABEL' | translate }}</span>
                <div class="form-group pd-label">
                  <textarea
                    [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SOLUTION.PLACEHOLDER' | translate"
                    rows="8"
                    id="innovation-solution"
                    class="form-input-default"
                    formControlName="solution">
                  </textarea>
                </div>
              </div>

              <!-- Advantages -->
              <div class="project-data">
                <span class="num-rect">6</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.ADVANTAGES.LABEL' | translate }}</span>
                <div class="input-list pd-label">
                  <app-input-list (update)="addAdvantageToInventionCard($event, i)" [config]="getConfig('advantages')"></app-input-list>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- Stage -->
        <div class="project-data">
          <span class="num-rect">7</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.WHAT_STAGE' | translate }}</span>
          <div class="form-group pd-label">
            <label class="form-radio">
              <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="0">
              <i class="form-icon"></i>{{ 'COMMON.PROJECT_STATUS.0' | translate }}
            </label>
            <label class="form-radio">
              <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="1">
              <i class="form-icon"></i>{{ 'COMMON.PROJECT_STATUS.1' | translate }}
            </label>
            <label class="form-radio">
              <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="2">
              <i class="form-icon"></i>{{ 'COMMON.PROJECT_STATUS.2' | translate }}
            </label>
          </div>
        </div>

        <!-- Patent -->
        <div class="project-data">
          <span class="num-rect">8</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.IS_PATENTED' | translate }}</span>
          <div class="form-group pd-label">
            <label class="form-radio">
              <input type="radio" name="patented" formControlName="patented" [value]="false">
              <i class="form-icon"></i>{{ 'COMMON.NO' | translate }}
            </label>
            <label class="form-radio">
              <input type="radio" name="patented" formControlName="patented" [value]="true">
              <i class="form-icon"></i>{{ 'COMMON.YES' | translate }}
            </label>
          </div>
        </div>

        <!-- Diffusion -->
        <div class="project-data">
          <span class="num-rect">9</span>
          <span class="ques">
            {{ 'PROJECT_MODULE.SETUP.PITCH.EXTERNAL_DIFFUSION.A' | translate }} {{companyName}} {{ 'PROJECT_MODULE.SETUP.PITCH.EXTERNAL_DIFFUSION.B' | translate }}
          </span>
          <div class="form-group pd-label">
            <label class="form-radio">
              <input type="radio" name="external_diffusion" formControlName="external_diffusion" [value]="false">
              <i class="form-icon"></i>{{ 'COMMON.NO' | translate }}
            </label>
            <label class="form-radio">
              <input type="radio" name="external_diffusion" formControlName="external_diffusion" [value]="true">
              <i class="form-icon"></i>{{ 'COMMON.YES' | translate }}
            </label>
          </div>
        </div>

        <div formArrayName="innovationCards">
          <div *ngFor="let innovationItem of innovationData.get('innovationCards').controls; let i = index" [formGroup]="innovationItem">
            <div *ngIf="innovationCardEditingIndex === i">

              <div class="project-data">
                <span class="num-rect">10</span><span class="ques">{{ 'PROJECT_MODULE.SETUP.PITCH.MEDIA.ADD' | translate }}</span>
                <div class="pd-label">

                  <div class="columns">
                    <!-- Images -->
                    <div class="column col-xl-12 col-5 col-mx-auto">
                      <app-shared-upload-zone-photo
                        *ngIf="canEdit"
                        [uri]="'/innovation/'+project._id+'/innovationCard/'+innovationItem.value.id+'/media/image'"
                        (cbFn)="imageUploaded($event)">
                      </app-shared-upload-zone-photo>
                    </div>

                    <!-- Plus icon -->
                    <div class="column col-md-xl col-2 col-mx-auto plus-container">
                      <span><i class="fas fa-2x fa-plus"></i></span>
                    </div>

                    <!-- Videos -->
                    <div class="column col-xl-12 col-5 col-mx-auto">
                      <app-shared-upload-zone-video
                        *ngIf="canEdit"
                        (cbFn)="newOnlineVideoToAdd($event)">
                      </app-shared-upload-zone-video>
                    </div>
                  </div>

                </div>
              </div>

            </div>
          </div>
        </div>

      </form>

    </div>
  </div>
</div>

<!--<div *ngIf="project">
{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MAIN_LANG' | translateWithSpecificLanguage:formData.get('lang').value }}
  <form novalidate [formGroup]="formData" class="form-horizontal">
    <div class="columns">
      <div class="column col-4">
        <div class="language-choice">
          <p>{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.LANGUAGE_CHOICE' | translate }} :</p>
          <ul formArrayName="innovationCards">
            <li *ngFor="let innovationCard of formData.get('innovationCards').value; let i = index"
                [ngClass]="{'active': innovationCardEditingIndex === i }">
              <div (click)="(innovationCardEditingIndex = i) && $event.preventDefault()">
                {{ 'COMMON.LANG.'+innovationCard.lang | uppercase | translate }}
              </div>
                          <span *ngIf="innovationCard.principal" class="c-auto">
                            {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MAIN_LANG' | translate }}</span>
                          <span *ngIf="!innovationCard.principal" (click)="setAsPrincipal($event, innovationCard.id)">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SET_AS_MAIN_LANG' | translate }} <i
                            class="icon icon-arrow-right"></i></span>
            </li>
            <li *ngIf="project.innovationCards.length < 2" (click)="createInnovationCard($event)">
              {{ 'COMMON.ADD' | translate }} <i class="icon icon-plus"></i>
            </li>
          </ul>
        </div>
      </div>
      <div class="column col-8">
        <div formArrayName="innovationCards">
          <div *ngFor="let item of formData.get('innovationCards').controls; let i = index"
               [formGroup]="item">
            <div *ngIf="innovationCardEditingIndex === i">
              <div>
                <label class="form-label" for="innovation-title">
                  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.TITLE.LABEL' | translate }}</label>
                <input class="form-input input-lg" type="text" id="innovation-title"
                       [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.TITLE.PLACEHOLDER' | translate"
                       formControlName="title">
              </div>

              <div>
                <label class="form-label" for="innovation-summary">
                  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SUMMARY.LABEL' | translate }}</label>
                            <textarea class="form-input" id="innovation-summary"
                                      [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SUMMARY.PLACEHOLDER' | translate"
                                      rows="6" formControlName="summary"></textarea>
              </div>

              <div>
                <label class="form-label" for="innovation-problem">
                  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.PROBLEM.LABEL' | translate }}</label>
                            <textarea class="form-input" id="innovation-problem"
                                      [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.PROBLEM.PLACEHOLDER' | translate"
                                      rows="20" formControlName="problem"></textarea>
              </div>

              <div>
                <label class="form-label" for="innovation-solution">
                  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SOLUTION.LABEL' | translate }}</label>
                            <textarea class="form-input" id="innovation-solution"
                                      [attr.placeholder]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.SOLUTION.PLACEHOLDER' | translate"
                                      rows="20"
                                      formControlName="solution"></textarea>
              </div>

              <div>
                <label class="form-label">
                  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.ADVANTAGES.LABEL' | translate }}</label>
                <div class="input-group">
                  <app-input-list (update)="addAdvantageToInventionCard($event, i)"
                                  [config]="getConfig('advantages')"></app-input-list>
                </div>
              </div>

              <div>
                <label class="form-label">{{ 'PROJECT_MODULE.SETUP.PITCH.MEDIA.ADD' | translate }}</label>
                <div class="medias"
                     *ngIf="project.innovationCards[innovationCardEditingIndex].media?.length > 0">
                  <div class="media"
                       *ngFor="let media of project.innovationCards[innovationCardEditingIndex].media; let idx = index">
                    <iframe width="200" height="100"
                            [src]="domSanitizer.bypassSecurityTrustResourceUrl(media.video.embeddableUrl)"
                            *ngIf="media.type==='VIDEO'">
                    </iframe>

                    <img
                      [src]="'https://res.cloudinary.com/umi/image/upload/c_scale,w_100/' + media.cloudinary.public_id"
                      *ngIf="media.type==='PHOTO'"
                      alt="" width="100" height="100">
                    <div *ngIf="canEdit">
                      <a class="delete c-hand" aria-label="Close" role="button"
                         (click)="deleteMedia($event, media)">
                        <img [src]="'https://res.cloudinary.com/umi/image/upload/app/delete.svg'" width="22"
                             height="22">
                      </a>
                      <a class="primary c-hand" aria-label="Close" role="button"
                         (click)="setMediaAsPrimary($event, media)">
                        <img
                          [src]="'https://res.cloudinary.com/umi/image/upload/app/'+ (project.innovationCards[innovationCardEditingIndex].principalMediaIdx === idx ? '' : 'empty-') + 'star.svg'"
                          width="24" height="22">
                      </a>
                    </div>
                  </div>
                </div>

                <app-shared-upload-zone-photo
                  *ngIf="canEdit"
                  [uri]="'/innovation/'+project._id+'/innovationCard/'+item.value.id+'/media/image'"
                  (cbFn)="imageUploaded($event)">
                </app-shared-upload-zone-photo>


                <app-shared-upload-zone-video
                  *ngIf="canEdit"
                  (cbFn)="newOnlineVideoToAdd($event)">
                </app-shared-upload-zone-video>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="column col-12">
        <div class="divider"></div>
      </div>
      <div class="column col-4"></div>
      <div class="column col-8">
        <div>
          <label class="form-label">{{ 'PROJECT_MODULE.SETUP.PITCH.WHAT_STAGE' | translate }}</label>
          <label class="form-radio">
            <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="0">
            <i class="form-icon"></i> {{ 'COMMON.PROJECT_STATUS.0' | translate }}

          </label>
          <label class="form-radio">
            <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="1">
            <i class="form-icon"></i> {{ 'COMMON.PROJECT_STATUS.1' | translate }}
          </label>
          <label class="form-radio">
            <input type="radio" name="projectStatus" formControlName="projectStatus" [value]="2">
            <i class="form-icon"></i> {{ 'COMMON.PROJECT_STATUS.2' | translate }}
          </label>
        </div>

        <div>
          <label class="form-label">{{ 'PROJECT_MODULE.SETUP.PITCH.IS_PATENTED' | translate }}</label>
          <label class="form-radio">
            <input type="radio" name="patented" formControlName="patented" [value]="false">
            <i class="form-icon"></i> {{ 'COMMON.NO' | translate }}
          </label>
          <label class="form-radio">
            <input type="radio" name="patented" formControlName="patented" [value]="true">
            <i class="form-icon"></i> {{ 'COMMON.YES' | translate }}
          </label>
        </div>
      </div>
    </div>
  </form>
</div>-->
