<h1>{{total}} {{ title | translate }}</h1>

<table class="table" wt-responsive-table>
  <thead>
    <tr>
      <th width="50"><input type="checkbox" (change)="selectAll($event)"/></th>
      <th *ngFor="let column of columnsNames"><sq-sort [config]="config" (configChange)="changeConfig($event)" [prop]="columns[columnsNames.indexOf(column)]">{{column | translate }}</sq-sort></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let key of getRowsKeys()"
        [ngClass]="{'active': isSelected(content[key])}"
        (click)="s.checked = !s.checked; selectRow(key)"
        (mouseenter)="hoverRow(key)"
        (mouseleave)="hoverRow(key)">
      <ng-container>
        <td width="50"><input type="checkbox" #s [checked]="isSelected(content[key])"/></td>
        <td *ngFor="let columnKey of columns">
          <ng-container [ngSwitch]="getType(columns.indexOf(columnKey))">

            <!-- Si le type de la colonne est TEXT -->
            <span *ngSwitchDefault>{{getContentValue(key, columnKey) || ' - '}}</span>

            <!-- Si le type de la colonne est COUNTRY -->
            <country-flag *ngSwitchCase="'COUNTRY'" [country]="getContentValue(key, columnKey)"></country-flag>

            <!-- Si le type de la colonne est PICTURE -->
            <div class="picture" *ngSwitchCase="'PICTURE'">
                <img [src]="getContentValue(key, columnKey)" class="img-fit-cover">
            </div>

            <!-- Si le type de la colonne est PROGRESS -->
            <progress class="progress tooltip"
                      *ngSwitchCase="'PROGRESS'"
                      [attr.data-tooltip]="getContentValue(key, columnKey) + '%'"
                      [value]="getContentValue(key, columnKey)" max="100">
            </progress>

          </ng-container>

          <button class="btn btn-action"
             *ngIf="isHover(content[key]) && columns.indexOf(columnKey) == 0"
             (click)="edit(content[key])">
            <i class="fas fa-info"></i>
          </button>

        </td>
      </ng-container>
    </tr>
  </tbody>
  <tfoot>
  <tr>
    <td colspan="12">
      <sqPagination [config]="config" (configChange)="changeConfig($event)" [total]="total" [propertyName]="'shared-table'"></sqPagination>
    </td>
  </tr>
  </tfoot>
</table>
