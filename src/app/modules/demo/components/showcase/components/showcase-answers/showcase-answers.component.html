<section id="showcase-answers" class="relative">

  <!-- bar icon -->
  <ng-container *ngIf="isAdmin && answers.length > 0">
    <div class="icon-container is-overlay text-meta absolute" (click)="openModal($event)">
      <span class="tooltip" [attr.data-tooltip]="'Menu'">
        <i class="icon icon-menu"></i>
      </span>
    </div>
  </ng-container>
  <!-- /bar icon -->


  <!-- heading 1st -->
  <h2 class="text text-meta" [innerText]="'SHOWCASE.PROFESSIONALS_TITLE'" translate></h2>
  <!-- /heading 1st -->


  <!-- heading count -->
  <h3 class="text-normal">
    {{ count }} <span [innerText]="'SHOWCASE.PROFESSIONALS'" translate></span>
  </h3>
  <!-- /heading count -->


  <!-- section answers -->
  <ng-container *ngIf="topAnswers.length > 0">
    <div *ngFor="let answer of topAnswers" class="card-main card-wrapper">
      <div *ngIf="!answer.isLoading" class="d-flex animate-zoomIn card-content">

        <figure class="avatar is-lg">
          <i class="fas fa-user"></i>
        </figure>

        <div class="info-wrapper">

          <h4 class="text-draft text-medium text-sm">{{ answer.job }}</h4>

          <div class="flex-start">
            <umius-country-flag [country]="answer.country?.flag" [width]="30" [height]="20"></umius-country-flag>
            <p class="text-meta text-medium text-xs">{{ answer.company?.name }}</p>
          </div>

        </div>

      </div>
    </div>
  </ng-container>
  <!-- /section answers -->


  <!-- section see more -->
  <ng-container *ngIf="answers.length > 6">
    <div class="text-right section-light-pad rm-pad-bottom see-more-wrapper">
      <span class="text-link" (click)="openModal($event)" [innerText]="'SHOWCASE.SEE_MORE'" translate></span>
    </div>
  </ng-container>
  <!-- /section see more -->


</section>


<!-- modal to select the answers -->
<app-utility-modal [(showModal)]="modalShow" [maxWidth]="'960px'" [enableCloseButton]="true">

 <section class="modal-body">
   <div class="card-wrapper d-flex">
     <ng-container *ngFor="let answer of answers">
       <div class="card is-responsive badge badge-save" [ngClass]="{ 'active': activeAnswer(answer) && isAdmin }">

         <i class="fas fa-check-circle"></i>

         <ng-container *ngIf="isAdmin">
           <label class="absolute c-hand">
             <input type="checkbox" (change)="onChangeAnswer($event, answer)" [checked]="activeAnswer(answer)">
           </label>
         </ng-container>

         <h4 class="text-draft text-medium text-xs">{{ answer.job }}</h4>

         <div class="flex-start">
           <umius-country-flag [country]="answer.country?.flag" [width]="30" [height]="20"></umius-country-flag>
           <p class="text-meta text-medium text-xs">{{ answer.company?.name }}</p>
         </div>

       </div>
     </ng-container>
   </div>
 </section>

  <ng-container *ngIf="isAdmin">
    <footer class="modal-footer">
      <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
      <button (click)="onClickApply($event)" class="button is-primary">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
    </footer>
  </ng-container>

</app-utility-modal>
<!-- /modal to select the answers -->
