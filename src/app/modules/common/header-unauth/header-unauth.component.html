<header class="container fluid grid-2xl" id="header-unauth">
  <div class="column col-sm-12 col-11 col-mx-auto">
    <nav class="navbar header__height">

      <!-- brand -->
      <div class="navbar-brand header__height">
        <a routerLink="/" class="gtm-menu-logo navbar-item m-no">
          <img
            [alt]="company"
            style="margin-top: -1px"
            [src]="logo"
            height="44.48"
            width="85">
        </a>
      </div>
      <!-- /brand -->

      <!-- hamburger icon for mobile -->
      <div class="navbar-burger header__height" (click)="toggleMenuState($event)">
        <i class="icon icon-menu"></i>
        <span class="m-left-2 text-medium">Menu</span>
      </div>
      <!-- /hamburger icon for mobile -->

      <!-- navigation -->
      <div class="navbar-menu" [ngClass]="{ 'active': displayMenuOptions }">

        <!-- language select dropdown -->
        <div class="navbar-item has-dropdown dropdown-lang" (click)="toggleLangOptions($event)">

          <span>
            <a class="dropdown-toggle">
              <img
                [src]="'https://res.cloudinary.com/umi/image/upload/c_fill,h_11,w_16/app/flags/'+flag+'.png'"
                [alt]="currentLang.toUpperCase()">
                <i style="font-size: 10px" class="icon icon-arrow-down"></i>
            </a>
          </span>

          <!-- options -->
          <ul [ngClass]="{ 'm-show-langs': showLangs }" class="navbar-dropdown p-no">
            <li (click)="setLang('fr')" [title]="'COMMON.LANG.FR' | translate" class="navbar-item text-center">
              <img [src]="'https://res.cloudinary.com/umi/image/upload/c_fill,h_11,w_16/app/flags/FR.png'" alt="FR">
            </li>
            <li (click)="setLang('en')" [title]="'COMMON.LANG.EN' | translate" class="navbar-item text-center">
              <img [src]="'https://res.cloudinary.com/umi/image/upload/c_fill,h_11,w_16/app/flags/US.png'" alt="EN">
            </li>
          </ul>
          <!-- /options -->

        </div>
        <!-- /language select dropdown -->

        <!-- login button -->
        <div class="navbar-item has-button">
          <button
            (click)="onClickSignIn($event)"
            [disabled]="isLogging"
            class="button is-primary is-outlined is-sm"
            type="button">
            <ng-container *ngIf="isLogging; else loginText">
              {{ 'COMMON.BUTTON.LOGGING' | translate }}
            </ng-container>
            <ng-template #loginText>{{ 'COMMON.BUTTON.LOGIN' | translate }}</ng-template>
          </button>
        </div>
        <!-- /login button -->

        <!-- sign up button -->
        <div class="navbar-item has-button m-no-right">
          <button
            (click)="onClickSignUp($event)"
            [disabled]="isCreatingAccount"
            class="button is-primary is-sm"
            type="button">
            <ng-container *ngIf="isCreatingAccount; else signUpText">
              {{ 'COMMON.BUTTON.CREATING_AN_ACCOUNT' | translate }}
            </ng-container>
            <ng-template #signUpText>{{ 'COMMON.BUTTON.SIGN_UP' | translate }}</ng-template>
          </button>
        </div>
        <!-- /sign up button -->

      </div>
      <!-- /navigation -->

    </nav>
  </div>
</header>


<!-- sign up sidebar -->
<app-sidebar [(template)]="sidebarValue">
  <app-sidebar-signup-form
    (finalOutput)="createUser($event)"
    [isCreating]="isCreatingAccount"
    [sidebarState]="sidebarValue.animate_state">
  </app-sidebar-signup-form>
</app-sidebar>
<!-- /sign up sidebar -->


<!-- login modal -->
<app-utility-modal-empty [(showModal)]="modalSignIn" [maxWidth]="'420px'">
  <section class="modal-body">

    <!-- heading -->
    <h2 style="font-size: 28px" class="title text-background text-center m-bottom-30">
      {{ 'COMMON.MODAL.LOGIN' | translate }}
    </h2>
    <!-- /heading -->

    <!-- form -->
    <div class="mxw-400 m-left-auto m-right-auto">
      <form novalidate [formGroup]="formData" (submit)="onClickContinue()">

        <!-- email address -->
        <div class="form-group has-error m-bottom-15">
          <label class="form-label" for="header-unauth-email">{{ 'COMMON.LABEL.EMAIL' | translate }}</label>
          <input
            class="form-input is-shadowed"
            formControlName="email"
            id="header-unauth-email"
            placeholder="john@catco.com"
            type="email">
          <div *ngIf="formData.get('email').touched" class="form-input-hint">
            <ng-container *ngIf="formData.get('email').hasError('required')">
              {{ 'COMMON.REQUIRED.EMAIL' | translate }}
            </ng-container>
            <ng-container *ngIf="formData.get('email').hasError('email') && formData.get('email').value !== ''">
              {{ 'COMMON.INVALID.EMAIL' | translate }}
            </ng-container>
          </div>
        </div>
        <!-- /email address -->

        <!-- password -->
        <div class="form-group has-error">
          <label class="form-label" for="header-unauth-password">{{ 'COMMON.LABEL.PASSWORD' | translate }}</label>
          <input
            [attr.placeholder]="'COMMON.PASSWORD_PLACEHOLDER' | translate "
            class="form-input is-shadowed"
            formControlName="password"
            id="header-unauth-password"
            type="password">
          <div
            *ngIf="formData.get('password').hasError('required') && formData.get('password').touched"
            class="form-input-hint">
            {{ 'COMMON.REQUIRED.PASSWORD' | translate }}
          </div>
        </div>
        <!-- /password -->

        <!-- login button -->
        <div class="text-center m-top-40 p-bottom-15">
          <button
            [disabled]="formData.invalid || isLogging"
            class="button is-primary is-lg gtm-signin-email"
            type="submit">
            <ng-container *ngIf="isLogging; else modalLoginText">
              {{ 'COMMON.BUTTON.LOGGING' | translate }}
            </ng-container>
            <ng-template #modalLoginText>{{ 'COMMON.BUTTON.CONTINUE' | translate }}</ng-template>
          </button>
        </div>
        <!-- login button -->

      </form>
    </div>
    <!-- /form -->

  </section>
</app-utility-modal-empty>
<!-- /login modal -->
