<div class="container fluid" id="login">
  <div class="main-wrapper d-flex">

    <!-- left side -->
    <div [ngStyle]="{ 'background-image': 'url(' + backgroundImage + ')' }" class="cover-image">
      <ng-container *ngIf="isDomainUMI">
        <div class="logo-wrapper p-top-20 p-left-40">
          <a [href]="companyUrl" class="d-inline-flex">
            <img
              [src]="logo"
              height="44.83"
              width="85"
              alt=" "
              class="img-responsive">
          </a>
        </div>
      </ng-container>
    </div>
    <!-- /left side -->

    <!-- right side -->
    <div class="content-body">

      <!-- sign up -->
      <div class="flex-end">
        <span class="text-13 text-notify m-right-20">{{ 'LOG_IN.DOES_NOT_HAVE_ACCOUNT' | translate }}</span>
        <button
          [id]="'login-btn-signup'"
          [routerLink]="'/register'"
          class="button is-primary text-xs is-sm is-rounded is-outlined"
          type="button">
          {{ 'LOG_IN.SIGN_UP' | translate }}
        </button>
      </div>
      <!-- /sign up  -->

      <!-- login body -->
      <section class="content-login flex-centered">
          <umius-login
            style="width: 480px;"
            [baseUrl]="baseApi"
            [clientUrl]="clientUrl"
            [domain]="domain"
            [nbTentatives]="nbTentatives"
            (contactUMIOnChange)="contactUMIOnChange($event)"
            (linkedInEventOnChange)="loginWithLinkedin($event)"
            (forgetPasswordEventOnChange)="forgetPasswordEventOnChange($event)"
            (loginEventOnChange)="loginOnChange($event)">
          </umius-login>
      </section>
      <!-- /login body -->

    </div>
    <!-- /right side -->

  </div>
</div>

<app-utility-modal [title]="'Contact UMI support'" [(showModal)]="isShowModal" [maxWidth]="'550px'">
  <section class="modal-body p-top-15 p-bottom-15 p-left-25 p-right-25">
    <!-- info -->
    <div class="text text-center">
      <p class="title m-top-10">We are here to help</p>
      <p class="text text-sm">Having trouble logging into the platform?
        Let us know what happened and we'll do our best to help!</p>
    </div>
    <!-- /info -->

    <!-- send message form -->
    <div class="form section-light-pad flex-centered">
      <div class="w-full p-30">
        <form [formGroup]="helpMessageForm" (ngSubmit)="sendMessageToUMISupport()">
          <!-- message form -->
          <div class="form-group">
            <textarea id="textarea"
                      class="form-input"
                      formControlName="message"
                      placeholder="Write your message here" rows="3">
            </textarea>
          </div>
          <!-- /message form -->

          <!-- email form -->
          <div class="form-group has-error m-top-4">
            <label class="form-label" for="contact-email">{{ 'COMMON.LABEL.EMAIL' | translate }}</label>
            <input
              type="email"
              id="contact-email"
              class="form-input"
              formControlName="contactEmail"
              placeholder="john@catco.com">
            <span *ngIf="helpMessageForm.get('contactEmail').touched">
                <span *ngIf="helpMessageForm.get('contactEmail').hasError('required')" class="form-input-hint">
                  {{ 'COMMON.REQUIRED.EMAIL' | translate }}
                </span>
                <span
                  *ngIf="helpMessageForm.get('contactEmail').hasError('contactEmail') && helpMessageForm.get('contactEmail').value !== ''"
                  class="form-input-hint">
                  {{ 'COMMON.INVALID.EMAIL' | translate }}
                </span>
              </span>
          </div>
          <!-- /email form -->

          <!-- send+cancel buttons -->
          <div class="d-flex m-top-10 m-bottom-4">
            <div class="btn-cancel" style="margin-right: auto">
              <button
                (click)="cancelMessage()"
                class="button is-outlined is-md">
                Cancel
              </button>
            </div>

            <div class="login-button" style="margin-left: auto">
              <button
                id="message-submit"
                class="button is-primary is-md"
                type="submit"
                [disabled]="helpMessageForm.invalid">
                Send
              </button>
            </div>
          </div>
          <!-- /send+cancel buttons -->
        </form>
      </div>
    </div>
    <!-- /send message form -->
  </section>
</app-utility-modal>
