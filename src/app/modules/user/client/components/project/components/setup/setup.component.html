<ng-container *ngIf="innovation">
  <section class="animate-page" id="setup-component">

    <!-- project under submitted status -->
    <ng-container *ngIf="innovation.status === 'SUBMITTED'">
      <div class="banner banner-success">
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.SUBMITTED' | translate }}
      </div>
    </ng-container>

    <!-- project under evaluating and reviewing status -->
    <ng-container *ngIf="innovation.reviewing && innovation.status === 'EDITING'">
      <div class="banner banner-success">
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.REVIEWING.A' | translate }}
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.REVIEWING.B' | translate }}
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.REVIEWING.C' | translate }}
      </div>
    </ng-container>

    <!-- project under evaluating status -->
    <ng-container *ngIf="innovation.status === 'EVALUATING'">
      <div class="banner banner-success">
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.EVALUATING' | translate }}
      </div>
    </ng-container>

    <!-- project under done status message -->
    <ng-container *ngIf="innovation.status === 'DONE'">
      <div class="banner banner-success">
        {{ 'PROJECT_MODULE.SETUP.MESSAGE.DONE' | translate }}
      </div>
    </ng-container>

    <!-- header section -->
    <div class="section-header" [ngClass]="{ 'sticky': scrollOn }">
      <div class="column col-xs-12 col-11 col-mx-auto">
        <div class="content">

          <!-- title -->
          <h2 class="title-primary">{{ 'PROJECT_MODULE.SETUP.TITLE' | translate }}</h2>

          <!-- buttons -->
          <div class="buttons-wrapper">
            <span>
              <button class="btn ghost-primary gtm-print-card" (click)="onClickPrint($event)">
                {{ 'COMMON.BUTTON.PRINT' | translate }}
              </button>
            </span>
            <span>
              <button class="btn ghost-primary gtm-preview-card" (click)="onClickPreview($event)">
                {{ 'COMMON.BUTTON.PREVIEW' | translate }}
              </button>
            </span>
            <span [ngClass]="buttonSaveClass">
              <div class="shape circle circle-md"><i class="fas fa-save"></i></div>
              <button class="btn btn-primary ghost-primary" (click)="onClickSave($event)">
                {{ 'COMMON.BUTTON.SAVE' | translate }}
              </button>
            </span>
            <span [ngStyle]="{ 'margin-right': '0' }">
              <button
                [disabled]="innovation.status !== 'EDITING'"
                (click)="onClickSubmit($event)"
                class="btn btn-primary gtm-submit-project">
                {{ 'COMMON.BUTTON.SUBMIT' | translate }}
              </button>
            </span>
          </div>

        </div>
      </div>
    </div>
    <!-- /header section -->

    <!-- tab section -->
    <div class="section-tabs">
      <div class="column col-xs-12 col-11 col-mx-auto">
        <ul class="tab">
          <li class="tab-item">
            <a [ngClass]="{ 'active': currentPage === 'targeting' }" class="gtm-edit-market-targeting" (click)="setCurrentTab($event, 'targeting')">
              <div class="shape circle circle-md targeting-check" [ngClass]=" { 'complete': innovation?.settings.completion === 100 } ">{{ innovation?.settings.completion }}%</div>
              {{ 'PROJECT_MODULE.SETUP.TARGETING_TAB' | translate }}
            </a>
          </li>
          <li class="tab-item">
            <a [ngClass]="{ 'active': currentPage === 'pitch' }" class="gtm-edit-market-targeting" (click)="setCurrentTab($event, 'pitch')">
              <div class="shape circle circle-md ro pitch-check" [ngClass]=" { 'complete': getPitchCompletion(innovation) === 100 } ">{{ getPitchCompletion(innovation) }}%</div>
              {{ 'PROJECT_MODULE.SETUP.PITCH_TAB' | translate }}
            </a>
          </li>
          <li class="tab-item">
            <a [ngClass]="{ 'active': currentPage === 'survey' }" class="gtm-edit-market-targeting" (click)="setCurrentTab($event, 'survey')">
              <div class="shape circle circle-md survey-check" [ngClass]=" { 'complete': innovation?.quizId } "><i class="fas fa-check"></i></div>
              {{ 'PROJECT_MODULE.SETUP.SURVEY_TAB' | translate }}
            </a>
          </li>
        </ul>
      </div>
    </div>
    <!-- /tab section -->

    <!-- different section -->
    <div class="section-pad rm-pad-bottom">
      <div class="column col-xs-12 col-11 col-mx-auto">

        <!-- targeting -->
        <ng-container *ngIf="currentPage === 'targeting'">
          <app-targeting [project]="innovation" (settingsChange)="updateSettings($event)"></app-targeting>
        </ng-container>

        <!-- pitch
        <div *ngIf="currentPage === 'pitch'">
          <app-pitch [project]="innovation" (pitchChange)="updatePitch($event)"></app-pitch>
        </div>-->

        <!-- survey -->
        <ng-container *ngIf="currentPage === 'survey'">
          <app-survey [project]="innovation"></app-survey>
        </ng-container>

      </div>
    </div>
    <!-- /different section -->

  </section>
</ng-container>


<!-- innovation preview sidebar -->
<app-sidebar [(template)]="sidebarValue">
  <app-innovation-preview [projectCard]="innovation.innovationCards[selectedInnovationIndex]"></app-innovation-preview>
</app-sidebar>
<!-- /innovation preview sidebar -->


<!-- modal to ask user to sure about submitting the project -->
<app-modal [(showModal)]="submitModal" [modalTitle]="'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MODAL.TITLE'">
  {{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MODAL.CONTENT' | translate }}
  <div class="modal-footer">
    <button class="btn btn-sm btn-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button class="btn btn-primary btn-sm" (click)="onClickConfirm($event)">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
  </div>
</app-modal>
<!-- /modal to ask user to sure about submitting the project -->


<!-- print innovation -->
<div *ngIf="innovation" id="innovation-card-print">

  <!-- column 1 -->
  <div class="column-1">

    <h1 class="main-heading">{{ innovation.innovationCards[selectedInnovationIndex].title }}</h1>

    <div class="summary-text" [innerHTML]="innovation.innovationCards[selectedInnovationIndex].summary"></div>

    <div class="image-wrapper">
      <img [src]="getImageSrc(innovation.innovationCards[selectedInnovationIndex])" alt=" " height="146px" width="220px">
    </div>

    <div class="advantage-wrapper">
      <h1 class="main-heading">{{ 'DISCOVERDESCRIPTION.BENEFITS' | translate }}</h1>
      <ul class="advantages">
        <li *ngFor="let advantage of innovation.innovationCards[selectedInnovationIndex].advantages">
          {{ advantage.text | FormatText }}
        </li>
      </ul>
    </div>

  </div>
  <!-- /column 1 -->

  <!-- column 2 -->
  <div class="column-2">
    <h1 class="main-heading">{{ 'DISCOVERDESCRIPTION.ISSUE' | translate }}</h1>
    <div class="issue-text" [innerHtml]="innovation.innovationCards[selectedInnovationIndex].problem"></div>
  </div>
  <!-- /column 2 -->

  <!-- column 3 -->
  <div class="column-3">
    <h1 class="main-heading">{{ 'DISCOVERDESCRIPTION.SOLUTION' | translate }}</h1>
    <div class="solution-text" [innerHtml]="innovation.innovationCards[selectedInnovationIndex].solution"></div>
  </div>
  <!-- /column 3 -->

</div>
<!-- /print innovation -->
