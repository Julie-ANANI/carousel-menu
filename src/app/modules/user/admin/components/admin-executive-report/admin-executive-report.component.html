<div id="shared-executive-report">

<!--   objective / owner / umi commercial-->
  <section style="margin-bottom: -30px">
    <app-admin-executive-objective
      [(config)]="objectiveConfig"
      [isEditable]="isEditable"
      [lang]="executiveReport.lang">
    </app-admin-executive-objective>
  </section>
 <!--  /objective / owner / umi commercial-->

  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->

  <!-- pitch -->
  <section style="margin-bottom: -30px">
    <app-admin-executive-pitch
      [(pitch)]="summary"
      [isEditable]="isEditable"
      [lang]="executiveReport.lang">
    </app-admin-executive-pitch>
  </section>
   <!--/pitch -->

  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->

  <!-- targeting -->
  <section style="margin-bottom: -30px">
    <app-admin-executive-targeting
      [(config)]="targetingConfig"
      [isEditable]="isEditable"
      [lang]="executiveReport.lang">
    </app-admin-executive-targeting>
  </section>
  <!-- /targeting -->

  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->

  <!-- professionals -->
  <section style="margin-bottom: -30px">
    <app-admin-executive-professional
      [(config)]="professionalConfig"
      [allAnswers]="topAnswers"
      [isEditable]="isEditable"
      [anonymous]="anonymous"
      [lang]="executiveReport.lang">
    </app-admin-executive-professional>
  </section>
  <!-- /professionals -->

  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->

  <!-- sections -->
  <div *ngFor="let section of executiveReport.sections; let i = index;">

    <!-- section number -->
    <h2 [ngClass]="{ 'm-bottom-40': section.questionType }" class="text-center title text-draft">
      Section {{ i + 1 }}
    </h2>
    <!-- /section number -->

    <!-- section -->
    <section style="margin-bottom: -30px">
      <app-admin-executive-section
        (sectionChange)="onSectionChange($event, i)"
        [isEditable]="isEditable"
        [answers]="answers"
        [questions]="questions"
        [reportLang]="executiveReport.lang"
        [sectionIndex]="i"
        [section]="section">
      </app-admin-executive-section>
    </section>
    <!-- /section -->

    <!-- reset button -->
    <div
      *ngIf="(section.questionId || section.questionIdentifier) && section.questionType && isEditable"
      class="p-top-40 text-center">
      <button (click)="resetModal($event, i)" class="button is-sm is-outlined is-info" type="button">
        {{ 'ADMIN_EXECUTIVE_REPORT.RESET_SECTION' | translate }}
      </button>
    </div>
    <!-- /reset button -->

    <!-- divider -->
    <div class="divider"></div>
    <!-- /divider -->

  </div>
  <!-- /sections -->

  <!-- conclusion -->
  <section style="margin-bottom: -30px">
    <app-admin-executive-conclusion
      [(config)]="conclusionConfig"
      [isEditable]="isEditable"
      [lang]="executiveReport.lang">
    </app-admin-executive-conclusion>
  </section>
  <!-- /conclusion -->

</div>


<!-- Modal to confirm action: Reset section -->
<app-utility-modal
  *ngIf="showModal && isEditable"
  [(showModal)]="showModal"
  [title]="'COMMON.MODAL.TITLE_CONFIRMATION' | translate">

  <section class="modal-body p-top-30 p-bottom-30">

    <!-- reset -->
    <div *ngIf="isResetModal">
      <p class="m-no-bottom">{{ 'ADMIN_EXECUTIVE_REPORT.MODAL.RESET' | translate }}</p>
    </div>
    <!-- /reset -->

  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button (click)="onClickConfirm($event)" class="button is-primary">
      {{ 'COMMON.BUTTON.CONFIRM' | translate }}
    </button>
  </footer>

</app-utility-modal>
<!-- /Modal to confirm action: Reset section -->
