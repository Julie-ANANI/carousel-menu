<div id="shared-executive-report">

  <!-- objective / owner / umi commercial -->
  <section [ngStyle]="{ 'margin-bottom': '-30px' }">
    <app-executive-objective [(config)]="objectiveConfig" [lang]="executiveReport.lang"></app-executive-objective>
  </section>
  <!-- /objective / owner / umi commercial -->


  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->


  <!-- pitch -->
  <section [ngStyle]="{ 'margin-bottom': '-30px' }">
    <executive-pitch [(pitch)]="summary" [lang]="executiveReport.lang"></executive-pitch>
  </section>
  <!-- /pitch -->


  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->


  <!-- targeting -->
  <section [ngStyle]="{ 'margin-bottom': '-30px' }">
    <executive-targeting [(config)]="targetingConfig" [lang]="executiveReport.lang"></executive-targeting>
  </section>
  <!-- /targeting -->


  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->


  <!-- professionals -->
  <section [ngStyle]="{ 'margin-bottom': '-30px' }">
    <executive-professional [(config)]="professionalConfig" [lang]="executiveReport.lang"></executive-professional>
  </section>
  <!-- /professionals -->


  <!-- divider -->
  <div class="divider"></div>
  <!-- /divider -->


  <!-- sections -->
  <div *ngFor="let section of executiveReport.sections; let i = index;">

    <!-- section number -->
    <h2 [ngClass]="{ 'm-bottom-40': section.questionType }" class="text-center title text-background">
      Section {{ i + 1 }}
    </h2>
    <!-- /section number -->


    <!-- section -->
    <section [ngStyle]="{ 'margin-bottom': '-30px' }">
      <executive-section
        (sectionChange)="onSectionChange($event, i)"
        [answers]="answers"
        [questions]="questions"
        [reportLang]="executiveReport.lang"
        [sectionIndex]="i"
        [section]="section">
      </executive-section>
    </section>
    <!-- /section -->


    <!-- reset button -->
    <div *ngIf="section.questionId && section.questionType" class="p-top-40 text-center">
      <button (click)="resetModal($event, i)" class="button is-outlined is-info" type="button">
        {{ 'ADMIN_EXECUTIVE_REPORT.RESET_SECTION' | translate }}
      </button>
    </div>
    <!-- /reset button -->


    <!-- divider -->
    <div class="divider"></div>
    <!-- /divider -->

  </div>
  <!-- /sections -->


  <!-- conclusion -->
  <section [ngStyle]="{ 'margin-bottom': '-30px' }">
    <executive-conclusion [(config)]="conclusionConfig" [lang]="executiveReport.lang"></executive-conclusion>
  </section>
  <!-- /conclusion -->

</div>


<!-- Modal to confirm action: Reset section -->
<app-modal *ngIf="showModal" [(showModal)]="showModal" [title]="'COMMON.MODAL.TITLE_CONFIRMATION' | translate">

  <section class="modal-body p-top-30 p-bottom-30">

    <!-- reset -->
    <div *ngIf="isResetModal">
      <p class="m-no-bottom">{{ 'ADMIN_EXECUTIVE_REPORT.MODAL.RESET' | translate }}</p>
    </div>
    <!-- /reset -->

  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button (click)="onClickConfirm($event)" class="button is-primary">
      {{ 'COMMON.BUTTON.CONFIRM' | translate }}
    </button>
  </footer>

</app-modal>
<!-- /Modal to confirm action: Reset section -->
