<div class="admin-executive-wrapper" id="type-likert-scale">

  <!-- edit side -->
  <div *ngIf="isEditable" class="content-wrapper">

    <!-- title -->
    <div class="m-bottom-10">
      <label>

        <input
          (change)="emitChanges()"
          (keyup)="textColor('title')"
          [(ngModel)]="section.title"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.TITLE' | translate"
          maxlength="40"
          class="form-input"
          type="text">

        <span [ngStyle]="{ 'color': titleColor }" class="text-limit-wrapper">
          {{ 40 - section.title.length }}
        </span>

      </label>
    </div>
    <!-- /title -->

    <!-- abstract -->
    <div class="m-bottom-40">
      <label>

        <textarea
          (change)="emitChanges()"
          (keyup)="textColor('abstract')"
          [(ngModel)]="section.abstract"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.ABSTRACT' | translate"
          maxlength="175"
          class="form-input is-abstract"
          type="text">
        </textarea>

        <span [ngStyle]="{ 'color': abstractColor }" class="text-limit-wrapper">
          {{ 175 - section.abstract.length }}
        </span>

        <div (click)="onClickPlay($event)" class="btn-play">
          <img
            src="https://res.cloudinary.com/umi/image/upload/v1589878292/app/default-images/pictos/picto-play-blue.svg"
            alt=" ">
        </div>

      </label>
    </div>
    <!-- /abstract -->


    <!-- name / legend / color -->
    <div class="d-flex justify-space">

      <!-- name -->
      <div class="m-right-10">

        <label>
          <input
            (change)="onChangeName(contentName.value)"
            (keyup)="textColor('name');"
            [ngModel]="content.name"
            #contentName
            [attr.value]="('ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.' + content.name) | uppercase| translate | titlecase"
            maxlength="20"
            class="form-input"
            type="text">
        </label>
<!--
        Toujours afficher content.name tant que ce n'est pas modifié
        afficher le nouveau content.name tant que ce n'est pas modifié

         Select for score type of likert scale
            <label class="m-right-20">
              <select class="form-select is-sm"
                      name="storyboard"
                      [(ngModel)]="content.name"
                      #contentName>
                <option *ngFor="let type of colorsAndNames[name]| keyvalue;"
                        [ngValue]="type.key">{{'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.' + type | uppercase | translate}}
                </option>
                <option>{{ 'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.TOTALLY_INVALIDATED'  | uppercase | translate }}</option>
                <option>{{ 'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.INVALIDED' | uppercase | translate }}</option>
                <option>{{ 'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.UNCERTAIN' | uppercase | translate }}</option>
                <option>{{ 'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.VALIDATED' | uppercase | translate }}</option>
                <option>{{ 'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.TOTALLY_VALIDATED' | uppercase | translate }}</option>
              </select>
            </label>
         end select for score type of likert scale

        Faire un select box-->

      </div>
      <!-- /name -->

      <!-- legend -->
      <div class="m-right-10">
        <label>
          <input
            (change)="emitChanges()"
            (keyup)="textColor('legend')"
            [(ngModel)]="content.legend"
            [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.LEGEND'| translate"
            maxlength="13"
            class="form-input"
            type="text">

          <span [ngStyle]="{ 'color': legendColor }"
                class="text-limit-wrapper">
              {{ 13 - content.legend.length }}
            </span>
        </label>
      </div>
      <!-- /legend -->

      <!-- color -->
      <div class="popover">
        <div
          [ngStyle]="{ 'background-color': content.color }" class="shape is-circled is-sm"></div>
        <div class="popover-container">
          <div class="card-likert"
               (change)="emitChanges()">
            <div (click)="chooseColor(0);" class="shape is-circled bg-alert is-sm"></div>
            <div (click)="chooseColor(1);" class="shape is-circled bg-pending is-sm"></div>
            <div (click)="chooseColor(2);" class="shape is-circled bg-gray is-sm"></div>
            <div (click)="chooseColor(3);" class="shape is-circled bg-green-light is-sm"></div>
            <div (click)="chooseColor(4);" class="shape is-circled bg-success is-sm"></div>
          </div>
        </div>
      </div>
      <!-- /color -->

    </div>

    <!-- /element / legend / color -->

  </div>
  <!-- /edit side -->


  <!-- view side -->
  <div class="content-wrapper has-border is-justify">

    <h4 class="m-bottom-15 text-center">{{ section.title }}</h4>

    <div class="m-bottom-20 text-center">

      <p style="min-height: 24px; line-height: 24px" class="text-lg text-medium">
        <ng-container *ngIf="content.legend">{{ content.legend }}</ng-container>
      </p>

      <!--mode default-->
     <!-- <div style="min-height: 30px">
        <div [ngStyle]="{ 'background-color': content.color }" class="label is-rounded">
          {{('ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.' + content.name) | uppercase| translate}}
        </div>
      </div>-->

      <div style="min-height: 30px">
        <ng-container *ngIf="!onChangeName"><div [ngStyle]="{ 'background-color': content.color }" class="label is-rounded">
          {{('ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.' + content.name) | uppercase| translate}}
        </div></ng-container>
      </div>
      <!--end mode default -->

      <!-- mode custom-->
      <div [ngStyle]="{ 'background-color': content.color }" class="label is-rounded"
           style="min-height: 30px">
        <ng-container *ngIf="content.name && onChangeName">{{ content.name | uppercase }}</ng-container>
      </div>
      <!--end mode custom -->

    </div>

    <p class="has-min-height">{{ section.abstract }}</p>

  </div>
  <!-- view side -->


</div>
