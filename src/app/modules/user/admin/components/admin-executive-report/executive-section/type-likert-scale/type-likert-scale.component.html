<div class="admin-executive-wrapper" id="type-likert-scale">

  <!-- edit side -->
  <div *ngIf="isEditable" class="content-wrapper">

    <!-- title -->
    <div class="m-bottom-10">
      <label>

        <input
          (change)="emitChanges()"
          (keyup)="textColor('title')"
          [(ngModel)]="section.title"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.TITLE' | translate"
          maxlength="40"
          class="form-input"
          type="text">

        <span [ngStyle]="{ 'color': titleColor }" class="text-limit-wrapper">
          {{ 40 - section.title.length }}
        </span>

      </label>
    </div>
    <!-- /title -->

    <!-- abstract -->
    <div class="m-bottom-40">
      <label>

        <textarea
          (change)="emitChanges()"
          (keyup)="textColor('abstract')"
          [(ngModel)]="section.abstract"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.ABSTRACT' | translate"
          maxlength="175"
          class="form-input is-abstract"
          type="text">
        </textarea>

        <span [ngStyle]="{ 'color': abstractColor }" class="text-limit-wrapper">
          {{ 175 - section.abstract.length }}
        </span>

        <div (click)="onClickPlay($event)" class="btn-play">
          <img
            src="https://res.cloudinary.com/umi/image/upload/v1589878292/app/default-images/pictos/picto-play-blue.svg"
            alt=" ">
        </div>

      </label>
    </div>
    <!-- /abstract -->


    <!-- name / legend / color -->
    <div class="d-flex justify-space">

      <!-- name -->
      <div class="m-right-10">
        <label>
          <input
            (keyup)="textColor('name')"
            [ngModel] = "getLikertText(label) | uppercase | translate"
            (ngModelChange)="changeValueLabel($event)"
            maxlength="20"
            class="form-input">

          <span [ngStyle]="{ 'color': nameColor }" class="text-limit-wrapper">
          {{ 20 - section.content.name.length }}
          </span>
        </label>
      </div>
      <!-- /name -->

      <!-- legend -->
      <div class="m-right-10">
        <label>
          <input
            (change)="emitChanges()"
            (keyup)="textColor('legend')"
            [(ngModel)]="content.legend"
            [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.LIKERT-SCALE_SECTION.LEGEND'| translate"
            maxlength="13"
            class="form-input"
            type="text">

          <span [ngStyle]="{ 'color': legendColor }" class="text-limit-wrapper">
              {{ 13 - content.legend.length }}
          </span>
        </label>
      </div>
      <!-- /legend -->

      <!-- color -->
      <div class="popover">
        <div
          [ngStyle]="{ 'background-color': content.color }" class="shape is-circled is-sm"></div>
        <div class="popover-container">
          <div class="card-likert"
               (change)="emitChanges()">
            <div (click)="chooseColor(0);" [ngStyle]="{ 'background-color': '#EA5858'}"class="shape is-circled is-sm bg-alert"></div>
            <div (click)="chooseColor(1);" [ngStyle]="{ 'background-color': '#F89424'}"class="shape is-circled is-sm"></div>
            <div (click)="chooseColor(2);" [ngStyle]="{ 'background-color': '#BBC7D6'}"class="shape is-circled is-sm"></div>
            <div (click)="chooseColor(3);" [ngStyle]="{ 'background-color': '#99E04B'}"class="shape is-circled is-sm"></div>
            <div (click)="chooseColor(4);" [ngStyle]="{ 'background-color': '#2ECC71'}"class="shape is-circled is-sm bg-success"></div>
          </div>
        </div>
      </div>
      <!-- /color -->

    </div>

    <!-- /element / legend / color -->

  </div>
  <!-- /edit side -->


  <!-- view side -->
  <div class="content-wrapper has-border is-justify">

    <h4 class="m-bottom-15 text-center">{{ section.title }}</h4>

    <div class="m-bottom-20 text-center">

      <p [ngStyle]="{ 'line-height': '24px', 'min-height': '24px'}" class="text-lg text-medium">
        <ng-container *ngIf="content.legend">
          {{ content.legend }}
        </ng-container>
      </p>

      <div [ngStyle]="{ 'background-color': content.color, 'min-height': '30px'}" class="label is-rounded">
            {{ label| uppercase| translate }}
      </div>

    </div>

    <p class="has-min-height">{{ section.abstract }}</p>

  </div>
  <!-- view side -->


</div>
