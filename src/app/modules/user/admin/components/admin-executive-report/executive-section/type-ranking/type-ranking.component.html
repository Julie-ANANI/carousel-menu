<div class="admin-executive-wrapper" id="type-ranking">

  <!-- edit side -->
  <div class="content-wrapper">

    <!-- title -->
    <div class="m-bottom-10">
      <label>

        <input
          (change)="emitChanges()"
          (keyup)="textColor('title')"
          [(ngModel)]="section.title"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.TITLE' | translate"
          maxlength="26"
          class="form-input"
          type="text">

        <span [ngStyle]="{ 'color': titleColor }" class="text-limit-wrapper">
          {{ 26 - section.title.length }}
        </span>

      </label>
    </div>
    <!-- /title -->

    <!-- abstract -->
    <div class="m-bottom-40">
      <label>

        <textarea
          (change)="emitChanges()"
          (keyup)="textColor('abstract')"
          [(ngModel)]="section.abstract"
          [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.ABSTRACT' | translate"
          maxlength="175"
          class="form-input is-abstract"
          type="text">
        </textarea>

        <span [ngStyle]="{ 'color': abstractColor }" class="text-limit-wrapper">
          {{ 175 - section.abstract.length }}
        </span>

      </label>
    </div>
    <!-- /abstract -->


    <!-- name / occurrence / color -->
    <div *ngFor="let tag of content.values; let i = index;">
      <div [ngClass]="{ 'm-bottom-15': i !== content.values.length - 1 }" class="d-flex justify-space">

        <!-- name -->
        <div class="m-right-10">
          <label>
            <input
              (change)="emitChanges()"
              (keyup)="textColor('name' , (i + 1))"
              [(ngModel)]="tag.name"
              [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.RANKING_SECTION.ELEMENT_' + (i + 1) | translate"
              maxlength="20"
              class="form-input"
              type="text">

            <span [ngStyle]="{ 'color': i === 0 ? element1Color : i === 1 ? element2Color : element3Color }"
                  class="text-limit-wrapper">
              {{ 20 - tag.name.length }}
            </span>
          </label>
        </div>
        <!-- /element -->


        <!-- occurrence -->
        <div class="m-right-10">
          <label>
            <input
              (change)="emitChanges()"
              (keyup)="textColor('occurrence' , (i + 1))"
              [(ngModel)]="tag.occurrence"
              [attr.placeholder]="'ADMIN_EXECUTIVE_REPORT.RANKING_SECTION.LEGEND_' + (i + 1) | translate"
              maxlength="13"
              class="form-input"
              type="text">

            <span [ngStyle]="{ 'color': i === 0 ? legend1Color : i === 1 ? legend2Color : legend3Color }"
                  class="text-limit-wrapper">
              {{ 13 - tag.occurrence.length }}
            </span>
          </label>
        </div>
        <!-- /occurrence -->


        <!-- color -->
        <div class="popover">
          <div [ngStyle]="{ 'background-color': content.color }" class="shape is-circle is-sm"></div>
          <div class="popover-container">
            <div class="card">
              <div (click)="setColor('#2ECC71')" class="shape is-circle bg-success is-sm"></div>
              <div (click)="setColor('#EA5858')" class="shape is-circle bg-alert is-sm"></div>
              <div (click)="setColor('#4F5D6B')" class="shape is-circle bg-draft is-sm"></div>
            </div>
          </div>
        </div>
        <!-- /color -->

      </div>
    </div>
    <!-- /element / legend / color -->

  </div>
  <!-- /edit side -->


  <!-- view side -->
  <div class="content-wrapper has-border is-justify">

    <h4 class="m-bottom-15 text-center">{{ section.title }}</h4>

    <div *ngFor="let tag of content.values; let i = index;" class="m-bottom-20 text-center">

      <p [ngStyle]="{ 'min-height': '24px', 'line-height': '24px' }" class="text-lg text-medium">
        <ng-container *ngIf="tag.occurrence">{{ tag.occurrence }}</ng-container>
      </p>

      <div [ngStyle]="{ 'min-height': '30px' }">
        <div *ngIf="tag.name" [ngStyle]="{ 'background-color': content.color }" class="label is-rounded">
          {{ tag. name }}
        </div>
      </div>

    </div>

    <p class="has-min-height">{{ section.abstract }}</p>

  </div>
  <!-- view side -->

</div>
