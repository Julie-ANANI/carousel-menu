<div [hidden]="fetchingError" id="admin-campaign-answers">

  <!-- stats -->
  <ul class="stat is-admin-campaign animate-fade is-4">

    <!-- stat col 1 -->
    <li class="stat-container fluid">
      <h5 class="stat-heading">Insight</h5>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Answer rate</h5>
        <span class="stat-value">{{ campaignStat('answer_rate') }}</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Validated</h5>
        <span class="stat-value">{{ campaignStat('status', 'VALIDATED') }}</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Rejected by mail</h5>
        <span class="stat-value">{{ campaignStat('status', 'REJECTED_GMAIL') }}</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Auto-validated</h5>
        <span class="stat-value">{{ campaignStat('status', 'REJECTED_UMIBOT') }}</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Auto-rejected</h5>
        <span class="stat-value">{{ campaignStat('status', 'VALIDATED_UMIBOT') }}</span>
      </div>
    </li>
    <!-- /stat col 1 -->

    <!-- stat col 2
    <li class="stat-container fluid">
      <h5 class="stat-heading">Profile</h5>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Standard</h5>
        <span class="stat-value">{{ campaignStat('profile', 1) }}</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Top profile</h5>
        <span class="stat-value">{{ campaignStat('profile', 2) }}</span>
      </div>
    </li>
     /stat col 2 -->

    <!-- stat col 3 -->
    <li class="stat-container fluid">
      <h5 class="stat-heading">Quality</h5>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Fill rate</h5>
        <span class="stat-value">--</span>
      </div>
      <div class="stat-body">
        <h5 class="stat-sub-heading">Time spent</h5>
        <span class="stat-value">{{ campaignStat('quality', 'time_elapsed') }}" min.</span>
      </div>
    </li>
    <!-- /stat col 3 -->

  </ul>
  <!-- /stats -->

  <!-- content -->
  <div class="column col-sm-12 col-11 col-mx-auto">

    <!-- no answers -->
    <section *ngIf="totalAnswers === 0" class="p-top-50 p-bottom-50 animate-fade is-4">
      <app-message-template-2 [animation]="true" [ngStyle]="{ 'width': '100%' }">
        <div class="text-center">
          <h4 class="text-background">Could not found any answers for this campaign. Try to import some!</h4>
          <div *ngIf="authorizedActions(2)" class="m-top-25">
            <label class="button is-primary is-rounded is-shadowed">
              <input
                #fileupload
                (change)="onImport(fileupload.files[0])"
                [hidden]="true"
                type="file"/>
              <ng-container *ngIf="!isImportingAnswers; else importFile">
                <i class="fas fa-file-import m-no-left"></i>
                Import answers
              </ng-container>
              <ng-template #importFile>
                importing answers...
              </ng-template>
            </label>
          </div>
        </div>
      </app-message-template-2>
    </section>
    <!-- /no answers -->

    <!-- answers -->
    <div *ngIf="totalAnswers > 0" class="p-top-25 p-bottom-30 animate-fade is-4">

      <!-- buttons -->
      <section *ngIf="authorizedActions(2)" class="text-right">

        <!-- import -->
        <label class="button is-primary is-sm is-outlined m-right-25 m-bottom-15">
          <input
            #fileupload
            (change)="onImport(fileupload.files[0])"
            [hidden]="true"
            type="file"/>
          <ng-container *ngIf="!isImportingAnswers; else importFile">
            Import
          </ng-container>
          <ng-template #importFile>
            importing...
          </ng-template>
        </label>
        <!-- /import -->

        <!-- export -->
        <button
          (click)="onExport()"
          class="button is-primary is-sm m-bottom-15"
          id="btn-export-answers">
          Export
        </button>
        <!-- /export -->

      </section>
      <!-- /buttons -->

      <!-- table -->
      <section class="p-top-25">
        <app-shared-table
          (editRow)="onEdit($event)"
          (performAction)="onActions($event)"
          [(config)]="config"
          [data]="table">
        </app-shared-table>
      </section>
      <!-- /table -->

    </div>
    <!-- /answers -->

  </div>
  <!-- /content -->

</div>

<!-- sidebar insight preview -->
<app-sidebar [hidden]="fetchingError && answers.length === 0" [(template)]="sidebarValue">
  <app-user-answer
    *ngIf="modalAnswer._id"
    [sidebarState]="sidebarValue.animate_state"
    [adminMode]="adminMode"
    [excludedCompanies]="excludedCompanies"
    [(userAnswer)]="modalAnswer"
    [projectId]="campaign.innovation._id"
    [questions]="questions"
    (answerUpdated)="updateAnswer($event)">
  </app-user-answer>
</app-sidebar>
<!-- /sidebar insight preview -->
