<div class="container fluid grid-2xl" id="admin-project-description">
  <div class="column col-sm-12 col-11 col-mx-auto p-top-30 p-bottom-30">
    <div class="d-flex align-center justify-start flex-wrap sticky bg-white" style="top: 49px; z-index: 99">
      <ng-container *ngFor="let section of activeInnovCard.sections; let i=index;">
        <a pageScroll [pageScrollOffset]="100" class="button is-link is-sm is-draft"
           [href]="'#'+section.type.toUpperCase()+'-'+i + 1+'href'"
        >{{ i + 1 }}.{{ section.title }}</a>
        <span> | </span>
      </ng-container>
      <a pageScroll [pageScrollOffset]="100" class="button is-link is-sm is-draft" href="#project-title-href">{{activeInnovCard.sections.length + 1}}.Title</a>
      <span> | </span>
      <a pageScroll [pageScrollOffset]="100" class="button is-link is-sm is-draft" href="#project-summary-href">{{activeInnovCard.sections.length + 2}}
        .Summary</a>
      <span> | </span>
      <a pageScroll [pageScrollOffset]="100" class="button is-link is-sm is-draft"
         href="#project-media-href">{{ activeInnovCard.sections && activeInnovCard.sections.length + 3 || 4 }}.Media</a>
      <button class="button is-outlined m-left-auto is-sm m-right-20"
              (click)="openModal($event, 'NEW_SECTION')">
        Add new section <i class="fas fa-plus"></i>
      </button>
    </div>

    <!-- sections dynamic -->
    <section
      *ngFor="let section of activeInnovCard.sections; let i=index;"
      [ngStyle]="{ 'animation-duration': ((i + 1) * 110) + 'ms' }"
      class="animate-slide slide-down section-wrapper has-border">
      <div class="section-body">

        <!-- content -->
        <div class="section-content">
          <div class="form-group">

            <!-- label / actions -->
            <div [ngStyle]="{'margin-bottom': isEditable ? '10px' : '11px'}" class="d-flex align-center flex-wrap">

              <div class="d-flex align-center flex-wrap title-wrapper m-no-bottom">

                <label
                  [id]="section.type.toUpperCase()+'-'+i + 1+'href'"
                  [for]="section.type+i"
                  [ngClass]="innovation.innovationCards.length > 1 && isEditable ? 'm-right-10' : 'm-right-30'"
                  class="form-label">
                  <span class="shape is-rounded bg-draft">{{ i + 1 }}</span>
                  <ng-container *ngIf="!isEditable">{{ section.title }}</ng-container>
                  <ng-container *ngIf="isEditable">
                    <input
                      (change)="updateInnovation()"
                      [(ngModel)]="section.title"
                      [id]="section.type.toLowerCase()+'-'+i + 1"
                      autocomplete="off"
                      class="form-input is-sm is-shadowed w-300"
                      type="text">
                  </ng-container>
                </label>

                <!-- edit-preview button -->
                <button
                  *ngIf=" isEditable"
                  [attr.data-tooltip]="!(getPadPreviewMode(i.toString()))? 'Preview':'Edit'"
                  (click)="padPreviewModeOnChange(i.toString())"
                  class="button tooltip is-circled is-action is-outlined text-no-underline is-info
                  m-right-15
                  is-xxs text-sm op-text text-notify"
                  type="button">
                  <i class="fas fa-pencil-alt"
                     *ngIf="getPadPreviewMode(i.toString())"></i>
                  <i class="fas fa-eye" *ngIf="!getPadPreviewMode(i.toString())"></i>
                </button>
                <!-- /edit-preview button -->

              </div>

              <div class="d-flex align-center justify-center">
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#'+section.type.toUpperCase()+'-'+i + 1+'href-comment'"
                   class="button text-secondary is-link is-sm is-draft">
                  comment</a>
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#'+section.type.toUpperCase()+'-'+i + 1+'href-suggestion'"
                   class="button text-secondary is-link is-sm is-draft">
                  suggestion</a>
              </div>

              <div class="d-flex align-center justify-center m-left-auto">
                <!-- visibility -->
                <div
                  *ngIf="isEditable"
                  (click)="toggleVisibility($event, i)"
                  [ngClass]="{'m-right-15': section.type === 'OTHER'}"
                  class="icon-container is-overlay">
                <span class="tooltip" [attr.data-tooltip]="section.visibility ? 'Hide section' : 'Unhide section'">
                  <i [ngClass]="section.visibility ? 'fas fa-eye' : 'fas fa-eye-slash'" class="text-alert"></i>
                </span>
                </div>
                <!-- /visibility -->

                <!-- delete -->
                <div
                  *ngIf="isEditable && section.type === 'OTHER'"
                  (click)="openModal($event, 'DELETE_SECTION', i)"
                  class="icon-container is-overlay">
                <span class="tooltip" data-tooltip="Delete section">
                  <i class="text-alert icon icon-delete"></i>
                </span>
                </div>
                <!-- /delete -->
              </div>

            </div>
            <!-- /label / actions -->

            <div *ngIf="isEditable && !getPadPreviewMode(i.toString())">
              <app-shared-editors
                [isEditable]="isEditable"
                (textChange)="onContentChange($event, 'sections', i)"
                [text]="section.content"
                [innovationId]="innovation._id"
                [elementId]="section.etherpadElementId || section.type.toLowerCase()+'-'+i + 1 + '-' + currentLang"
                [type]="'pitch'">
              </app-shared-editors>
            </div>

            <div *ngIf="getPadPreviewMode(i.toString())"
                 class="width-100 mce-tinymce pad-preview-mode text-15"
                 [innerHTML]="activeInnovCard.sections[i].content | cleanHtml">
            </div>

            <p *ngIf="!isEditable" [innerHTML]="section.content" class="text-15"></p>

          </div>
        </div>
        <!-- /content -->

        <!-- suggestion / comments -->
        <div class="section-suggestion">

          <!-- comment -->
          <div class="m-bottom-25" [id]="section.type.toUpperCase()+'-'+i + 1+'href-comment'">
            <div class="d-flex align-center">
              <div
                (click)="onToggleComment($event, i.toString(10))"
                class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleComment[i.toString(10)] ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleComment($event, i.toString(10))" class="spec-text-op">Comment</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div
                [hidden]="!isEditableComment"
                [ngClass]="{'is-hidden': !toggleComment[i.toString(10)]}"
                class="box-shadow">
                <app-shared-editor-tinymce
                  (onTextChange)="onCommentChange($event, 'sections', 'comment', i,
                  section.type, section.etherpadElementId)"
                  [data]="zoneData('sections', 'comment', section.type, section.etherpadElementId)"
                  [id]="section.type.toLowerCase()+'-'+i + 1+'-comment'">
                </app-shared-editor-tinymce>
              </div>
              <div
                *ngIf="!isEditableComment"
                [ngClass]="{'is-hidden': !toggleComment[i.toString(10)]}"
                class="message">
                <p
                  [innerHTML]="zoneData('sections', 'comment', section.type, section.etherpadElementId)"
                  class="message-body">
                </p>
              </div>
            </div>
          </div>
          <!-- /comment -->

          <!-- suggestion -->
          <div [id]="section.type.toUpperCase()+'-'+i + 1+'href-suggestion'">
            <div class="d-flex align-center">
              <div
                (click)="onToggleSuggestion($event, i.toString(10))"
                class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleSuggestion[i.toString(10)] ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleSuggestion($event, i.toString(10))" class="spec-text-op">Suggestion</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div
                *ngIf="isEditableComment"
                [ngClass]="{'is-hidden': !toggleSuggestion[i.toString(10)]}">
                <app-shared-editors
                  [isEditable]="isEditableComment"
                  (textChange)="onCommentChange($event, 'sections', 'suggestion', i,
                  section.type, section.etherpadElementId)"
                  [text]="zoneData('sections', 'suggestion', section.type, section.etherpadElementId)"
                  [innovationId]="innovation._id"
                  [elementId]="section.etherpadElementId || section.type.toLowerCase()+'-'+i + 1 + '-' + currentLang"
                  [type]="'suggestion'">
                </app-shared-editors>
              </div>
              <div
                *ngIf="!isEditableComment"
                [ngClass]="{'is-hidden': !toggleSuggestion[i.toString(10)]}"
                class="message">
                <p
                  [innerHTML]="zoneData('sections', 'suggestion', section.type, section.etherpadElementId)"
                  class="message-body">
                </p>
              </div>
            </div>
          </div>
          <!-- /suggestion -->

        </div>
        <!-- /suggestion / comments -->

      </div>
    </section>
    <!-- /sections dynamic -->

    <!-- section title -->
    <section
      [ngStyle]="{ 'animation-duration': '110ms' }"
      class="animate-slide slide-down section-wrapper p-top-20">
      <div class="section-body">

        <!-- content -->
        <div class="section-content">
          <div class="form-group">

            <div class="d-flex align-center flex-wrap title-wrapper">

              <label
                id="project-title-href"
                [ngClass]="{'m-right-10': innovation.innovationCards.length > 1 && isEditable}"
                class="form-label"
                for="project-title">
                <span class="shape is-rounded bg-draft">{{activeInnovCard.sections.length + 1}}</span>Title
              </label>

              <!-- edit-preview button -->
              <button
                *ngIf=" isEditable"
                [attr.data-tooltip]="!(getPadPreviewMode('title'))? 'Preview':'Edit'"
                (click)="padPreviewModeOnChange('title')"
                class="button tooltip is-circled is-action is-outlined text-no-underline is-info is-xxs text-sm op-text text-notify m-left-20"
                type="button">
                <i class="fas fa-pencil-alt"
                   *ngIf="getPadPreviewMode('title')"></i>
                <i class="fas fa-eye" *ngIf="!getPadPreviewMode('title')"></i>
              </button>
              <!-- /edit-preview button -->

              <div class="d-flex align-center justify-center m-left-15">
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#project-title-href-comment'"
                   class="button text-secondary is-link is-sm is-draft">
                  comment</a>
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#project-title-href-suggestion'"
                   class="button text-secondary is-link is-sm is-draft">
                  suggestion</a>
              </div>

            </div>

            <app-shared-editors
              id="project-title"
              *ngIf="isEditable && !getPadPreviewMode('title')"
              (textChange)="onContentChange($event, 'title')"
              [text]="activeInnovCard.title"
              [innovationId]="innovation._id"
              [elementId]="'title-' + currentLang"
              [type]="'pitch'"
              [isEditable]="isEditable">
            </app-shared-editors>

            <div *ngIf="getPadPreviewMode('title')"
                 class="width-100 mce-tinymce pad-preview-mode text-15" [innerHTML]="activeInnovCard.title | cleanHtml">
            </div>

            <p *ngIf="!isEditable" [innerHTML]="activeInnovCard.title" class="text-15"></p>

          </div>
        </div>
        <!-- /content -->

        <!-- suggestion / comments -->
        <div class="section-suggestion">

          <!-- comment -->
          <div class="m-bottom-25" [id]="'project-title-href-comment'">
            <div class="d-flex align-center">
              <div (click)="onToggleComment($event, 'title')" class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleComment.title ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleComment($event, 'title')" class="spec-text-op">Comment</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div [hidden]="!isEditableComment" [ngClass]="{'is-hidden': !toggleComment.title}" class="box-shadow">
                <app-shared-editor-tinymce
                  (onTextChange)="onCommentChange($event, 'title', 'comment')"
                  [data]="zoneData('title', 'comment')"
                  id="title-comment">
                </app-shared-editor-tinymce>
              </div>
              <div *ngIf="!isEditableComment" [ngClass]="{'is-hidden': !toggleComment.title}" class="message">
                <p [innerHTML]="zoneData('title', 'comment')" class="message-body"></p>
              </div>
            </div>
          </div>
          <!-- /comment -->

          <!-- suggestion -->
          <div [id]="'project-title-href-suggestion'">
            <div class="d-flex align-center">
              <div
                (click)="onToggleSuggestion($event, 'title')"
                class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleSuggestion.title ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleSuggestion($event, 'title')" class="spec-text-op">Suggestion</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div *ngIf="isEditableComment" [ngClass]="{'is-hidden': !toggleSuggestion.title}">
                <app-shared-editors
                  [isEditable]="isEditableComment"
                  (textChange)="onCommentChange($event, 'title', 'suggestion')"
                  [text]="zoneData('title', 'suggestion')"
                  [innovationId]="innovation._id"
                  [elementId]="'title-' + currentLang"
                  [type]="'suggestion'">
                </app-shared-editors>
              </div>
              <div *ngIf="!isEditableComment" [ngClass]="{'is-hidden': !toggleSuggestion.title}" class="message">
                <p [innerHTML]="zoneData('title', 'suggestion')" class="message-body"></p>
              </div>
            </div>
          </div>
          <!-- /suggestion -->

        </div>
        <!-- /suggestion / comments -->

      </div>
    </section>
    <!-- /section title -->

    <!-- section summary -->
    <section [ngStyle]="{ 'animation-duration': '220ms' }" class="animate-slide slide-down has-border section-wrapper">
      <div class="section-body">

        <!-- content -->
        <div class="section-content">
          <div class="form-group">

            <div class="d-flex align-center flex-wrap title-wrapper">

              <label
                id="project-summary-href"
                [ngClass]="{'m-right-10': innovation.innovationCards.length > 1 && isEditable}"
                class="form-label"
                for="project-summary">
                <span class="shape is-rounded bg-draft">{{activeInnovCard.sections.length + 2}}</span>Summary
              </label>

              <!-- edit-preview button -->
              <button
                *ngIf="isEditable"
                [attr.data-tooltip]="!(getPadPreviewMode('summary'))? 'Preview':'Edit'"
                (click)="padPreviewModeOnChange('c')"
                class="button tooltip is-circled is-action is-outlined text-no-underline is-info is-xxs text-sm op-text text-notify m-left-15"
                type="button">
                <i class="fas fa-pencil-alt"
                   *ngIf="getPadPreviewMode('summary')"></i>
                <i class="fas fa-eye" *ngIf="!getPadPreviewMode('summary')"></i>
              </button>
              <!-- /edit-preview button -->

              <div class="d-flex align-center justify-center m-left-15">
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#project-summary-href-comment'"
                   class="button text-secondary is-link is-sm is-draft">
                  comment</a>
                <a pageScroll [pageScrollOffset]="100"
                   [href]="'#project-summary-href-suggestion'"
                   class="button text-secondary is-link is-sm is-draft">
                  suggestion</a>
              </div>

            </div>

            <div *ngIf="isEditable && !getPadPreviewMode('summary')" class="text-15">
              <app-shared-editors
                id="project-summary"
                (textChange)="onContentChange($event, 'summary')"
                [text]="activeInnovCard.summary"
                [innovationId]="innovation._id"
                [elementId]="'summary-' + currentLang"
                [isEditable]="isEditable"
                [type]="'pitch'">
              </app-shared-editors>
            </div>

            <div *ngIf="getPadPreviewMode('summary')"
                 class="width-100 mce-tinymce pad-preview-mode text-15"
                 [innerHTML]="activeInnovCard.summary | cleanHtml">
            </div>

            <p *ngIf="!isEditable" [innerHTML]="activeInnovCard.summary" class="text-15"></p>

          </div>
        </div>
        <!-- /content -->

        <!-- suggestion / comments -->
        <div class="section-suggestion">

          <!-- comment -->
          <div class="m-bottom-25" [id]="'project-summary-href-comment'">
            <div class="d-flex align-center">
              <div
                (click)="onToggleComment($event, 'summary')"
                class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleComment.summary ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleComment($event, 'summary')" class="spec-text-op">Comment</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div [hidden]="!isEditableComment" [ngClass]="{'is-hidden': !toggleComment.summary}" class="box-shadow">
                <app-shared-editor-tinymce
                  (onTextChange)="onCommentChange($event, 'summary', 'comment')"
                  [data]="zoneData('summary', 'comment')"
                  id="summary-comment">
                </app-shared-editor-tinymce>
              </div>
              <div *ngIf="!isEditableComment" [ngClass]="{'is-hidden': !toggleComment.summary}" class="message">
                <p [innerHTML]="zoneData('summary', 'comment')" class="message-body"></p>
              </div>
            </div>
          </div>
          <!-- /comment -->

          <!-- suggestion -->
          <div [id]="'project-summary-href-suggestion'">
            <div class="d-flex align-center">
              <div
                (click)="onToggleSuggestion($event, 'summary')"
                class="icon-container is-sm is-overlay m-right-1">
                <i
                  [ngClass]="toggleSuggestion.summary ? 'icon icon-arrow-up' : 'icon icon-arrow-down'"
                  class="c-hand text-primary text-15">
                </i>
              </div>
              <span (click)="onToggleSuggestion($event, 'summary')" class="spec-text-op">Suggestion</span>
              <div class="label is-primary is-sm">UMI</div>
            </div>
            <div class="m-top-20">
              <div *ngIf="isEditableComment" [ngClass]="{'is-hidden': !toggleSuggestion.summary}">
                <app-shared-editors
                  [isEditable]="isEditableComment"
                  (textChange)="onCommentChange($event, 'summary', 'suggestion')"
                  [text]="zoneData('summary', 'suggestion')"
                  [innovationId]="innovation._id"
                  [elementId]="'summary-' + currentLang"
                  [type]="'suggestion'">
                </app-shared-editors>
              </div>
              <div *ngIf="!isEditableComment" [ngClass]="{'is-hidden': !toggleSuggestion.summary}" class="message">
                <p [innerHTML]="zoneData('summary', 'suggestion')" class="message-body"></p>
              </div>
            </div>
          </div>
          <!-- /suggestion -->

        </div>
        <!-- /suggestion / comments -->

      </div>
    </section>
    <!-- /section summary -->

    <!-- section media -->
    <section
      id="project-media"
      [ngStyle]="{ 'animation-duration': ((activeInnovCard.sections.length) * 110) + 'ms' }"
      class="section-wrapper has-border p-no-bottom">

      <div class="section-body">

        <!-- image -->
        <div class="section-content">
          <div class="form-group">
            <div class="title-wrapper">
              <label class="form-label" id="project-media-href">
                <span class="shape is-rounded bg-draft">
                  {{ activeInnovCard.sections && activeInnovCard.sections.length + 3 || 4 }}
                </span>
                Add medias
              </label>
            </div>
            <div *ngIf="isEditable" class="bg-white box-shadow">
              <app-shared-upload-zone-photo
                [uri]="'/innovation/'+innovation._id+'/innovationCard/'+activeInnovCard._id+'/media/image'"
                (cbFn)="uploadImage($event)">
              </app-shared-upload-zone-photo>
            </div>
          </div>
        </div>
        <!-- /image -->

        <!-- video -->
        <div [ngStyle]="{'padding-top': '45px'}" class="section-suggestion">
          <div *ngIf="isEditable" class="bg-white box-shadow">
            <app-shared-upload-zone-video
              (cbFn)="uploadVideo($event)"
              [isUploading]="isUploadingVideo">
            </app-shared-upload-zone-video>
          </div>
        </div>
        <!-- /video -->

      </div>

      <!-- medias display -->
      <div
        *ngIf="activeInnovCard.media.length"
        [ngStyle]="{ 'margin-left': '-10px', 'margin-right': '-20px' }"
        class="d-flex flex-wrap">

        <!-- principal media -->
        <div *ngIf="activeInnovCard.principalMedia" class="text-center media-wrapper">

          <!-- if type === 'PHOTO' -->
          <figure *ngIf="activeInnovCard.principalMedia['type'] && activeInnovCard.principalMedia['type'] === 'PHOTO'
          && mediaSrc(activeInnovCard.principalMedia, 'IMAGE')">
            <img
              style="cursor: pointer"
              (click)="mediaToShow(mediaSrc(activeInnovCard.principalMedia, 'IMAGE'))"
              [src]="mediaSrc(activeInnovCard.principalMedia, 'IMAGE')"
              alt=" "
              class="img-responsive"
              height="159"
              width="240">
          </figure>
          <!-- /if type === 'PHOTO' -->

          <!-- if type === 'VIDEO' -->
          <iframe
            *ngIf="activeInnovCard.principalMedia['type'] && activeInnovCard.principalMedia['type'] === 'VIDEO'
            && mediaSrc(activeInnovCard.principalMedia, 'VIDEO')"
            [src]="mediaSrc(activeInnovCard.principalMedia, 'VIDEO')"
            height="159"
            width="240">
          </iframe>
          <!-- /if type === 'VIDEO' -->

          <span class="text-sm p-top-1">Main media</span>

          <!-- delete button -->
          <div *ngIf="isEditable" class="text-sm p-top-1">
            <span
              (click)="onDeleteMedia(activeInnovCard.principalMedia)"
              [ngClass]="isSavingMedia ? 'text-disabled' : 'c-hand text-hover-underline'"
              class="text-alert"
              [id]="'btn-delete-principal-media'">
              Delete media
            </span>
          </div>
          <!-- /delete button -->

        </div>
        <!-- /principal media -->

        <!-- secondary medias -->
        <ng-container *ngIf="activeInnovCard.media.length > 0">
          <ng-container *ngFor="let media of activeInnovCard.media; let i=index;">
            <div
              *ngIf="media._id !== (activeInnovCard.principalMedia && activeInnovCard.principalMedia._id)"
              class="media-wrapper text-center">

              <!-- if type === 'PHOTO' -->
              <figure *ngIf="media['type'] && media['type'] === 'PHOTO' && mediaSrc(media, 'IMAGE')">
                <img
                  style="cursor: pointer"
                  (click)="mediaToShow(mediaSrc(media, 'IMAGE'))"
                  [src]="mediaSrc(media, 'IMAGE')"
                  alt=" "
                  class="img-responsive"
                  height="159"
                  width="240">
              </figure>
              <!-- /if type === 'PHOTO' -->

              <!-- if type === 'VIDEO' -->
              <iframe
                *ngIf="media['type'] && media['type'] === 'VIDEO' && mediaSrc(media, 'VIDEO')"
                [src]="mediaSrc(media, 'VIDEO')"
                height="159"
                width="240">
              </iframe>
              <!-- /if type === 'VIDEO' -->

              <!-- set principal -->
              <div *ngIf="isNotMainMedia(media) && isEditable" class="text-sm p-top-2">
                <span
                  (click)="onSetPrincipal(media)"
                  [ngClass]="isSavingMedia ? 'text-disabled' : 'c-hand text-hover-underline'"
                  class="text-primary"
                  [id]="'btn-principal-media-'+i">
                  Set as main media
                </span>
              </div>
              <!-- /set principal -->

              <!-- delete button -->
              <div
                *ngIf="isEditable && (mediaSrc(media, 'VIDEO') || mediaSrc(media, 'IMAGE'))"
                class="text-sm p-top-1">
                  <span
                    (click)="onDeleteMedia(media)"
                    [ngClass]="isSavingMedia ? 'text-disabled' : 'c-hand text-hover-underline'"
                    class="text-alert"
                    [id]="'btn-delete-media-'+i">
                    Delete media
                  </span>
              </div>
              <!-- /delete button -->

            </div>
          </ng-container>
        </ng-container>
        <!-- /secondary medias -->

      </div>
      <!-- /medias display -->

    </section>
    <!-- section media -->

  </div>
</div>

<!-- modal to add New section | Delete section -->
<app-utility-modal-empty *ngIf="isEditable" [(showModal)]="showModal">

  <section class="modal-body">

    <h2 [ngSwitch]="{ 'color': '4C4C4C' }" class="title is-4 text-center text-bold m-bottom-30">
      <ng-container *ngIf="modalType === 'NEW_SECTION'">Add new section</ng-container>
      <ng-container *ngIf="modalType === 'DELETE_SECTION'">Delete section</ng-container>
    </h2>

    <div [ngSwitch]="modalType">

      <!-- delete section -->
      <div *ngSwitchCase="'DELETE_SECTION'">
        Do you really want to delete this section? Please keep in mind that to delete
        the section successfully you have to save the project.
      </div>
      <!-- /delete section -->

      <!-- new section -->
      <div *ngSwitchCase="'NEW_SECTION'" class="mxw-450 m-left-auto m-right-auto">

        <!-- title -->
        <div class="form-group m-bottom-20">
          <label class="form-label" for="new-section-title">Title</label>
          <input
            [(ngModel)]="newSection.title"
            class="form-input is-sm is-shadowed"
            id="new-section-title"
            placeholder="Add the new section title here..."
            type="text">
        </div>
        <!-- /title -->

        <!-- type -->
        <div class="form-group m-bottom-20">
          <label class="form-label" for="new-section-type">Type</label>
          <select
            [(ngModel)]="newSection.type"
            id="new-section-type"
            class="form-select is-shadowed is-sm">
            <!--<option value="ISSUE">Issue</option>-->
            <!--<option value="SOLUTION">Solution</option>-->
            <option value="OTHER">Other</option>
          </select>
        </div>
        <!-- /type -->

        <p class="text-alert text-sm">
          Please keep in mind that to create a new section successfully you have to save the project.
        </p>

      </div>
      <!-- /new section -->

    </div>

  </section>

  <footer [ngSwitch]="modalType" class="modal-footer justify-center">

    <button
      (click)="closeModal()"
      [id]="'btn-cancel'"
      class="button modal-cancel"
      type="button">
      Cancel
    </button>

    <!-- new section -->
    <button
      *ngSwitchCase="'NEW_SECTION'"
      (click)="createNewSection($event)"
      [disabled]="!newSection.title"
      class="button is-community"
      type="button">
      Confirm
    </button>
    <!-- new section -->

    <!-- delete section -->
    <button
      *ngSwitchCase="'DELETE_SECTION'"
      (click)="deleteSection($event)"
      class="button is-community"
      type="button">
      Confirm
    </button>
    <!-- delete section -->

  </footer>

</app-utility-modal-empty>
<!-- /modal to add New section | Delete section -->

<!-- modal to view image -->
<app-utility-modal-media [(showModal)]="modalMedia" [mediaSrc]="selectedMedia"></app-utility-modal-media>
<!-- /modal to view image-->
