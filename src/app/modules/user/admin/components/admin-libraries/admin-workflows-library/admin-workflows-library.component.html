<section id="admin-workflow-library-component">

  <div class="text-right">
    <button type="button" (click)="onClickAdd()" class="btn btn-primary">Add</button>
  </div>

  <ng-container *ngIf="scenarios.length > 0">
    <div *ngFor="let scenario of scenarios" class="section-light-pad rm-pad-bottom">
      <app-admin-edit-workflow
        [scenario]="scenario"
        (scenarioChange)="updateScenario($event)"
        [signatures]="signatures"
        (deletedScenario)="deleteScenario($event)">
      </app-admin-edit-workflow>
    </div>
  </ng-container>

  <ng-container *ngIf="scenarios.length === 0">
    <div class="section-pad rm-pad-bottom">
      <message-template-1 [widthMax]="'320px'">
        Don't have any workflows? Create the workflow by clicking on "Add" button.
      </message-template-1>
    </div>
  </ng-container>

</section>


<!-- modal to add the new workflow -->
<app-modal [(showModal)]="modalAdd" [title]="'COMMON.MODAL.TITLE_CREATE'">

  <section class="modal-body">
    <div class="form-group">
      <label class="form-label" for="add-workflow">Workflow Name</label>
      <input
        type="text"
        id="add-workflow"
        [(ngModel)]="newScenarioName"
        name="scenarioName"
        placeholder="Enter the workflow name"
        class="form-input">
      <label class="form-label" for="add-workflow-signature">Workflow default signature</label>
      <select class="form-select" id="add-workflow-signature" [ngModel]="scenarioSignature" (ngModelChange)="changeScenarioSignature($event)">
        <option [ngValue]="null" selected>Select one signature</option>
        <option *ngFor="let signature of signatures" [ngValue]="signature">{{signature.name}}</option>
      </select>
    </div>
  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button (click)="onClickConfirm()" [disabled]="!newScenarioName" class="button is-primary">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
  </footer>

</app-modal>
<!-- /modal to add the new workflow -->
