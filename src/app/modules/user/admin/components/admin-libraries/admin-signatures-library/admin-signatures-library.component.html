<section id="admin-signatures-library">
  <div class="column col-sm-12 col-11 col-mx-auto">

    <!-- fetching error -->
    <ng-container *ngIf="fetchingError">
      <div class="a-s-l-error-wrapper d-flex align-center">
        <app-utility-error-template-1 [errorMessage]="'ERROR.ERRORS.FETCHING'"></app-utility-error-template-1>
      </div>
    </ng-container>
    <!-- /fetching error -->


    <!-- no signature -->
    <ng-container *ngIf="!fetchingError && noResult && total === 0">
      <div class="a-s-l-create-signature-wrapper d-flex align-center">
        <app-message-template-2 [animation]="true" style="width: 100%">

          <div class="text-center">

            <h4 [innerText]="'COMMON.SIGNATURES.NO_SIGNATURES_ADMIN'" class="text-background" translate></h4>

            <div class="m-top-25">
              <button (click)="onClickAdd()" class="button is-primary is-sm" type="button">
                <i class="fas fa-plus m-no-left"></i>
                Add signature
              </button>
            </div>

          </div>

        </app-message-template-2>
      </div>
    </ng-container>
    <!-- /no signature -->


    <!-- signatures -->
    <ng-container *ngIf="!fetchingError && !noResult">

      <!-- add button -->
      <div class="text-right p-bottom-25">
        <div class="m-top-25">
          <button (click)="onClickAdd()" class="button is-primary is-sm" type="button">
            <i class="fas fa-plus m-no-left"></i>
            Add signature
          </button>
        </div>
      </div>
      <!-- /add button -->

      <!-- table -->
      <umius-table
        (editRow)="editSignature($event)"
        (removeRows)="OnClickDelete($event)"
        [(config)]="config"
        [data]="table">
      </umius-table>
      <!-- /table -->

    </ng-container>
    <!-- /signatures-->


  </div>
</section>


<!-- sidebar -->
<app-sidebar [(template)]="sidebarValue">
  <app-sidebar-signature
    (signatureChange)="updateSignature($event)"
    [sidebarState]="sidebarValue.animate_state"
    [signature]="signatureToEdit">
  </app-sidebar-signature>
</app-sidebar>
<!-- /sidebar -->


<!-- modal -->
<app-utility-modal [(showModal)]="modalOpen" [title]="isModalAdd ? 'COMMON.MODAL.TITLE_CREATE' : 'COMMON.MODAL.TITLE_DELETE'">

  <section class="modal-body">

    <!-- isAdd -->
    <ng-container *ngIf="isModalAdd">
      <div class="form-group"  style="max-width: 430px">
        <label class="form-label" for="add-email">{{ 'COMMON.LABEL.SIGNATURE_NAME' | translate }}</label>
        <input
          [(ngModel)]="newSignatureName"
          class="form-input"
          id="add-email"
          name="emailName"
          [placeholder]="'COMMON.PLACEHOLDER.SIGNATURE_NAME' | translate"
          type="text">
      </div>
    </ng-container>
    <!-- /isAdd -->

    <!-- isDelete -->
    <ng-container *ngIf="isModalDelete">
      <div class="text-background text-medium">{{ 'COMMON.SIGNATURES.DELETE_SIGNATURES' | translate }}</div>

      <ul class="d-flex flex-wrap text-xs text-notify text-medium m-top-3">
        <li *ngFor="let signature of signaturesToRemove" class="m-right-3 m-top-1">
          {{ signature.name }}
        </li>
      </ul>
    </ng-container>
    <!-- /isDelete -->

  </section>

  <footer class="modal-footer">

    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>

    <!-- isAdd -->
    <ng-container *ngIf="isModalAdd">
      <button (click)="onAddConfirm()" [disabled]="!newSignatureName" class="button is-primary">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
    </ng-container>
    <!-- /isAdd -->

    <!-- isDelete -->
    <ng-container *ngIf="isModalDelete">
      <button (click)="onDeleteConfirm()" class="button is-primary">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
    </ng-container>
    <!-- /isDelete -->

  </footer>

</app-utility-modal>
<!-- /modal -->
