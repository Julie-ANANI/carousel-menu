<section id="admin-signatures-library">
  <div class="restrict-width">


    <!-- fetching error -->
    <ng-container *ngIf="fetchingError">
      <div class="a-s-l-error-wrapper d-flex align-center">
        <app-error-template-1 [errorMessage]="'ERROR.ERRORS.FETCHING'"></app-error-template-1>
      </div>
    </ng-container>
    <!-- /fetching error -->


    <!-- no signature -->
    <ng-container *ngIf="!fetchingError && total === 0">
      <div class="a-s-l-create-signature-wrapper d-flex align-center">
        <app-message-template-2 [animation]="true" [ngStyle]="{ 'width': '100%' }">

          <div class="text-center">

            <h4 [innerText]="'COMMON.SIGNATURES.NO_SIGNATURES_ADMIN'" class="text-background" translate></h4>

            <div class="m-top-25">
              <button (click)="onClickAdd()" class="btn btn-primary rounded shadow" type="button">
                <i class="fas fa-plus m-no-left"></i>
                {{ 'COMMON.BUTTON.ADD' | translate }} signature
              </button>
            </div>

          </div>

        </app-message-template-2>
      </div>
    </ng-container>
    <!-- /no signature -->


    <!-- signatures -->
    <ng-container *ngIf="!fetchingError && total > 0">

      <!-- add button -->
      <div class="text-right p-bottom-25">
        <button (click)="onClickAdd()" class="btn btn-primary btn-sm rounded shadow" type="button">
          <i class="fas fa-plus m-no-left"></i>
          {{ 'COMMON.BUTTON.ADD' | translate }} signature
        </button>
      </div>
      <!-- /add button -->

      <!-- table -->
      <app-shared-table
        (editRow)="editSignature($event)"
        (removeRows)="OnClickDelete($event)"
        [(config)]="config"
        [data]="table">
      </app-shared-table>
      <!-- /table -->

    </ng-container>
    <!-- /signatures-->


  </div>
</section>


<!-- sidebar -->
<app-sidebar [(template)]="sidebarValue">
  <app-sidebar-signature
    (signatureChange)="updateSignature($event)"
    [sidebarState]="sidebarValue.animate_state"
    [signature]="signatureToEdit">
  </app-sidebar-signature>
</app-sidebar>
<!-- /sidebar -->


<!-- modal -->
<app-modal [(showModal)]="modalOpen" [modalTitle]="isModalAdd ? 'COMMON.MODAL.TITLE_CREATE' : 'COMMON.MODAL.TITLE_DELETE'">

  <!-- isAdd -->
  <ng-container *ngIf="isModalAdd">
    <div class="flex-centered">
      <div class="form-group" [ngStyle]="{ 'width': '75%' }">
        <label class="form-label" for="add-email">{{ 'COMMON.LABEL.SIGNATURE_NAME' | translate }}</label>
        <input
          [(ngModel)]="newSignatureName"
          class="form-input"
          id="add-email"
          name="emailName"
          [placeholder]="'COMMON.PLACEHOLDER.SIGNATURE_NAME' | translate"
          type="text">
      </div>
    </div>
  </ng-container>
  <!-- /isAdd -->

  <!-- isDelete -->
  <ng-container *ngIf="isModalDelete">
    <div class="text-background text-medium">{{ 'COMMON.SIGNATURES.DELETE_SIGNATURES' | translate }}</div>

    <ul class="d-flex flex-wrap text-xs text-notify text-medium m-top-3">
      <li *ngFor="let signature of signaturesToRemove" class="m-right-3 m-top-1">
        {{ signature.name }}
      </li>
    </ul>
  </ng-container>
  <!-- /isDelete -->

  <div class="modal-footer">

    <button [innerText]="'COMMON.BUTTON.CANCEL'" class="btn btn-sm btn-cancel" translate></button>

    <!-- isAdd -->
    <ng-container *ngIf="isModalAdd">
      <button
        (click)="onAddConfirm()"
        (keyup.enter)="onAddConfirm()"
        [disabled]="!newSignatureName"
        [innerText]="'COMMON.BUTTON.CONFIRM'"
        class="btn btn-sm btn-primary"
        translate>
      </button>
    </ng-container>
    <!-- /isAdd -->

    <!-- isDelete -->
    <ng-container *ngIf="isModalDelete">
      <button
        (click)="onDeleteConfirm()"
        [innerText]="'COMMON.BUTTON.CONFIRM'"
        class="btn btn-sm btn-primary"
        translate>
      </button>
    </ng-container>
    <!-- /isDelete -->

  </div>

</app-modal>
<!-- /modal -->
