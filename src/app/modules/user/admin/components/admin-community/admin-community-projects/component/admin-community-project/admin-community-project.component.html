<!-- when error -->
<ng-container *ngIf="fetchingError">
  <div class="section-pad">
    <app-fetching-error></app-fetching-error>
  </div>
</ng-container>
<!-- /when error -->


<!-- when not error -->
<ng-container *ngIf="!fetchingError && innovation">
  <section id="admin-community-project-component" class="section-light-pad rm-pad-top">


    <!-- section header -->
    <div class="section-header section-light-pad rm-pad-bottom">
      <div class="column col-xs-12 col-11 col-mx-auto">

        <!-- project name -->
        <div class="name-wrapper d-flex">
          <h1 class="title-primary text-background" [innerText]="innovation.name"></h1>
          <a [href]="'/user/admin/projects/project/' + innovation._id + '/settings'" target="_blank" class="text-link">See project description</a>
        </div>

        <!-- stat -->
        <ul class="stat">

          <!-- ambassador -->
          <li class="stat-container">
            <h5 class="stat-heading">Ambassador</h5>
            <div class="stat-body">
              <h5 class="stat-sub-heading">Native</h5>
              <span class="stat-value">1</span>
            </div>
            <div class="stat-body">
              <h5 class="stat-sub-heading">Added</h5>
              <span class="stat-value">3</span>
            </div>
            <div class="stat-body">
              <h5 class="stat-sub-heading">Suggested</h5>
              <span class="stat-value">4</span>
            </div>
          </li>

          <!-- feedback -->
          <li class="stat-container">
            <h5 class="stat-heading">Feedback</h5>
            <div class="stat-body">
              <h5 class="stat-sub-heading">Total</h5>
              <span class="stat-value" [ngStyle]="{ 'color': checkThreshold() }">{{ totalThreshold }}</span>
            </div>
            <div class="stat-body">
              <h5 class="stat-sub-heading">From Ambassador</h5>
              <span class="stat-value">3</span>
            </div>
          </li>

          <!-- ambassador -->
          <li class="stat-container map-wrapper">
            <h5 class="stat-heading">Targeting</h5>
            <div class="stat-body">
              <app-worldmap
                [countries]="targetCountries"
                [countriesColor]="'#4F5D6B'"
                [isEditable]="false"
                [width]="'140px'">
              </app-worldmap>
            </div>
          </li>

        </ul>

      </div>
    </div>
    <!-- /section header -->


    <!-- section details -->
    <div class="section-details section-light-pad rm-pad-bottom">
      <div class="column col-xs-12 col-11 col-mx-auto">

        <!-- buttons -->
        <div class="text-right">
          <button type="button" class="btn ghost-primary btn-sm" (click)="onClickAddManually($event)">Add manually</button>
          <button type="button" class="btn btn-primary btn-sm" (click)="onClickSuggestion($event)">See suggestions</button>
        </div>

        <!-- section table -->
        <div class="section-light-pad rm-pad-bottom">
          <app-shared-ambassadors-list [listType]="'default'" [config]="config"></app-shared-ambassadors-list>
        </div>

      </div>
    </div>
    <!-- /section details -->


  </section>
</ng-container>
<!-- /when not error -->


<!-- sidebar community -->
<app-sidebar [(template)]="sidebarValue">
  <community-form
    [sidebarState]="sidebarValue.animate_state"
    [innovationId]="innovation._id"
    [type]="sidebarValue.type"
    [config]="sideConfig"
    [context]="context"
    (callbackNotification)="actionsResultCallback($event)">
  </community-form>
</app-sidebar>
<!-- /sidebar community -->
