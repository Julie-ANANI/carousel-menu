<section id="admin-edit-workflow-component">

  <!-- section header -->
  <div class="section-header">
    <span class="text">{{ campaignScenario.name }}</span>
    &nbsp;-
    <ng-container *ngIf="inCampaign && defaultScenario === campaignScenario.name">
      By default
    </ng-container>
    <ng-container *ngIf="inCampaign && defaultScenario != campaignScenario.name">
      <span (click)="setDefaultScenario()">Use by default</span>
    </ng-container>
    <div [ngClass]="inCampaign && isModifiedEn ? 'complete' : 'incomplete'" class="shape is-circle is-sm"><i class="fas fa-check"></i></div>
    <span [ngClass]="{ 'active': language === 'en' }" class="text-link" (click)="changeLanguage('en')">{{ 'COMMON.LANG.EN' | translate }}</span>
    &nbsp;&nbsp;|
    <div [ngClass]="inCampaign && isModifiedFr ? 'complete' : 'incomplete'" class="shape is-circle is-sm"><i class="fas fa-check"></i></div>
    <span [ngClass]="{ 'active': language === 'fr' }" class="text-link" (click)="changeLanguage('fr')">{{ 'COMMON.LANG.FR' | translate }}</span>
    <div (click)="onClickDelete()" class="icons is-delete tooltip" data-tooltip="Delete Workflow"><i class="fas fa-trash-alt"></i></div>
  </div>

  <!-- section table -->
  <app-shared-table [data]="tableInfos" (editRow)="editEmail($event)" [(config)]="config"></app-shared-table>

</section>


<!-- modal to delete the scenario -->
<app-utility-modal [(showModal)]="modalDelete" [title]="'COMMON.MODAL.TITLE_DELETE'">

  <section class="modal-body">
    {{ 'EDIT_WORKFLOW.MODAL.CONTENT' | translate }}
  </section>

  <footer class="modal-footer">
    <button class="button modal-cancel">{{ 'COMMON.BUTTON.CANCEL' | translate }}</button>
    <button class="button is-primary" (click)="deleteScenario()">{{ 'COMMON.BUTTON.CONFIRM' | translate }}</button>
  </footer>

</app-utility-modal>
<!-- /modal to delete the scenario -->


<!-- sidebar to edit workflow -->
<app-sidebar [(template)]="more">
  <app-workflow
    [id]="getId()"
    [emailsObject]="emailToEdit"
    [inputLanguage]="language"
    (emailChange)="updateEmail($event)">
  </app-workflow>
</app-sidebar>
<!-- /sidebar to edit workflow -->
