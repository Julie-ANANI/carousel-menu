<div class="section-container" id="setup-project">
  <div class="columns">
    <div class="column col-xs-12 col-12 col-mx-auto">

      <!-- Row 1 -->
      <div class="row-1">

        <!-- Heading -->
        <h1 class="section-heading">{{ 'PROJECT_MODULE.SETUP.TITLE' | translate }}</h1>

        <!-- Buttons -->
        <div class="function-button" *ngIf="currentTab === 'pitch' || currentTab === 'targeting'">
          <span [ngClass]="saveButtonClass">
            <div class="circle"><i class="fas fa-save"></i></div>
              <button class="primary-button ghost-button" (click)="saveProject($event)">
              {{ 'PROJECT_MODULE.SETUP.SAVE_PROJECT' | translate }}
            </button>
          </span>
          <span>
            <button class="primary-button" (click)="submitButton($event)">
              {{ 'PROJECT_MODULE.SETUP.SUBMIT_PROJECT' | translate }}
            </button>
          </span>
        </div>

      </div>

      <!-- Row 2 -->
      <div class="column col-12 col-mx-auto tabs-container">
        <ul class="tabs">
          <li>
            <a [ngClass]="{'active': currentTab == 'pitch'}" (click)="settingTab($event, 'pitch')">
              <i class="fas fa-check"></i>{{ 'PROJECT_MODULE.SETUP.PITCH_TAB' | translate }}
            </a>
          </li>
          <li>
            <a [ngClass]="{'active': currentTab == 'targeting'}" (click)="settingTab($event, 'targeting')">
              <i class="fas fa-check"></i>{{ 'PROJECT_MODULE.SETUP.TARGETING_TAB' | translate }}
            </a>
          </li>
          <li>
            <a [ngClass]="{'active': currentTab == 'survey'}" (click)="settingTab($event, 'survey')">
              <i class="fas fa-check"></i>{{ 'PROJECT_MODULE.SETUP.SURVEY_TAB' | translate }}
            </a>
          </li>
        </ul>
      </div>

      <!-- Row 3 -->
      <div class="column col-12 col-mx-auto">

        <!-- Pitch -->
        <div *ngIf="currentTab === 'pitch'">
          <app-project-pitch
            [project]="project"
            (updateInnovation)="updateInnovation($event)"
            [changesSaved]="changesSaved"
            (saveChanges)="saveInnovation($event)">
          </app-project-pitch>
        </div>

        <!-- Targeting -->
        <div *ngIf="currentTab === 'targeting'">
          <app-project-targeting [project]="project" (newSettings)="updateSettings($event)"></app-project-targeting>
        </div>

        <!-- Survey -->
        <div *ngIf="currentTab === 'survey'">
          <app-project-survey [project]="project"></app-project-survey>
        </div>

      </div>


    </div>
  </div>
</div>


<!-- Modal to ask user to sure about submitting the project -->
<div class="modal" [ngClass]="{'active': projectToBeSubmitted}">
  <div class="modal-overlay" (click)="(projectToBeSubmitted = false) && $event.preventDefault()"></div>
  <div class="modal-container">
    <div class="modal-header">
      <button class="btn btn-clear float-right" (click)="(projectToBeSubmitted = false) && $event.preventDefault()"></button>
      <div class="modal-title">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MODAL.TITLE' | translate }}</div>
    </div>
    <div class="modal-body">
      <div class="content">{{ 'PROJECT_MODULE.SETUP.PITCH.DESCRIPTION.MODAL.CONTENT' | translate }}</div>
    </div>
    <div class="modal-footer">
      <button class="primary-button submit-button" (click)="submitProject($event)">
        {{ 'COMMON.SUBMIT' | translate }}
      </button>
      <button class="primary-button ghost-button cancel-button" (click)="(projectToBeSubmitted = false) && $event.preventDefault()">
        {{ 'COMMON.CANCEL' | translate }}
      </button>
    </div>
  </div>
</div>

<!--<div class="setup-project">

  <h1>{{'PROJECT_MODULE.SETUP.TITLE' | translate}}</h1>

  <button class="btn btn-secondary" (click)="saveProject($event)">{{'PROJECT_MODULE.SETUP.SAVE_PROJECT' | translate}}</button>
  <button class="btn btn-primary">{{'PROJECT_MODULE.SETUP.SUBMIT_PROJECT' | translate}}</button>

  <ul class="tab tab-block">
    <li class="tab-item">
      <button class="btn btn-link" [ngClass]="{'active': currentTab == 'pitch'}"
              (click)="currentTab = 'pitch'">
        {{ 'PROJECT_MODULE.SETUP.PITCH_TAB' | translate }}
      </button>
    </li>
    <li class="tab-item">
      <button class="btn btn-link" [ngClass]="{'active': currentTab == 'targeting'}"
              (click)="currentTab = 'targeting'">
        {{ 'PROJECT_MODULE.SETUP.TARGETING_TAB' | translate }}
      </button>
    </li>
    <li class="tab-item">
      <button class="btn btn-link" [ngClass]="{'active': currentTab == 'survey'}"
              (click)="currentTab = 'survey'">
        {{ 'PROJECT_MODULE.SETUP.SURVEY_TAB' | translate }}
      </button>
    </li>
  </ul>


   <a [ngClass]="{'active': currentTab == 'targeting'}" (click)="currentTab = 'targeting'">
              <i class="fas fa-check"></i>{{ 'PROJECT_MODULE.SETUP.TARGETING_TAB' | translate }}
            </a>

  <div class="tabs">
    <div class="tab-content" *ngIf="currentTab === 'pitch'">
      <app-project-pitch [project]="project"
                         (updateInnovation)="updateInnovation($event)">
      </app-project-pitch>
    </div>

    <div class="tab-content" *ngIf="currentTab === 'targeting'">
      <app-project-targeting [project]="project"
                             (newSettings)="updateSettings($event)">
      </app-project-targeting>
    </div>

    <div class="tab-content" *ngIf="currentTab === 'survey'">
      <app-project-survey [project]="project"></app-project-survey>
    </div>
  </div>

</div>-->
