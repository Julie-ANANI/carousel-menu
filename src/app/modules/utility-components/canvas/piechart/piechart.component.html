<section class="pie-chart">

  <p class="percentage">{{ pieChart?.percentage || 0 }}% {{ 'MARKET_REPORT.PIE_CHART' | translate }}</p>

  <ng-container *ngIf="isBrowser && pieChart">
    <canvas
      class="chart chart-pie"
      baseChart
      [chartType]="'pie'"
      [datasets]="datasets"
      [legend]="false"
      [colors]="colors"
      [labels]="pieChart.labels | multiling:lang">
    </canvas>
  </ng-container>

  <ng-container *ngIf="pieChart">
    <ul class="pie-data-wrapper flex-centered">
      <li *ngFor="let label of (pieChart.labels | multiling:lang); let i = index">
        <span class="shape is-circle is-xs" [ngStyle]="{ 'background-color': colors[0].backgroundColor[i], 'border-color': colors[0].backgroundColor[i] }"></span>
        <span class="response">{{ pieChart.data[i] }}</span>
        <span class="text-label">{{ label }}</span>
        <span>({{ pieChart.labelPercentage[i] }})</span>
      </li>
    </ul>
  </ng-container>

</section>
