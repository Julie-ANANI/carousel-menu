@import "variables";
@import "cards";

.popover {
  display: inline-flex;
  position: relative;

  .popover-container, .popover-container::before {
    left: 50%;
    opacity: 0;
    position: absolute;
    transition: transform .2s ease;
    transform: translate(-50%, -50%) scale(0);
  }

  .popover-container {
    display: none;
    top: 0;
    width: $control-width-sm;
    z-index: $zindex-4;
    box-shadow: $box-shadow-hover-umi;

    &.popover-sm {
      width: $control-width-xs;
    }

    &::before {
      display: block;
      opacity: 1;
      content: "";
      width: 0;
      height: 0;
      z-index: 399;
      border: 15px solid transparent;
      bottom: 16px;
    }

  }

  *:focus + .popover-container, &:hover .popover-container, .popover-container:hover {
    display: block;
    opacity: 1;
    transform: translate(-50%, calc(-100% - 16px)) scale(1);
  }


  *:focus + .popover-container::before, &:hover .popover-container::before, .popover-container:hover::before {
    transform: translate(-50%, calc(100% + 16px)) scale(1);
    border-top-color: $bg-color-light;
  }


  &.popover-right {

    .popover-container{
      left: calc(100% + 16px);
      top: 50%;
    }

    .popover-container::before {
      left: -30px;
      bottom: calc(50% + 16px);
      border-color: transparent;
    }

    :focus + .popover-container, &:hover .popover-container, .popover-container:hover {
      transform: translate(0, -50%) scale(1);
    }

    :focus + .popover-container::before, &:hover .popover-container::before, .popover-container:hover::before {
      transform: translate(0, calc(50% + 16px)) scale(1);
      border-right-color: $bg-color-light;
    }


  }

  &.popover-bottom {

    .popover-container {
      left: 50%;
      top: calc(100% + 14px);
    }

    .popover-container::before {
      left: calc(50% - 15px);
      top: -30px;
      bottom: auto;
      border-color: transparent;
    }

    :focus + .popover-container, &:hover .popover-container, .popover-container:hover {
      transform: translate(-50%, 0) scale(1);
    }

    :focus + .popover-container::before, &:hover .popover-container::before, .popover-container:hover::before {
      transform: translate(calc(50% - 15px), 0) scale(1);
      border-bottom-color: $bg-color-light;
    }

  }

  &.popover-left {

    .popover-container {
      left: -16px;
      top: 50%;
    }

    .popover-container::before {
      left: calc(100% + 30px);
      bottom: calc(50% + 16px);
      border-color: transparent;
    }

    :focus + .popover-container, &:hover .popover-container, .popover-container:hover {
      transform: translate(-100%, -50%) scale(1);
    }

    :focus + .popover-container::before, &:hover .popover-container::before, .popover-container:hover::before {
      transform: translate(-100%, calc(50% + 16px)) scale(1);
      border-left-color: $bg-color-light;
    }

  }

  .card {
    border: 0;
    padding: $layout-spacing;
  }

}
